2018-07-17 06:06:15.684 +00:00 [Information] User profile is available. Using '"C:\Users\MichikaP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-07-17 06:06:19.694 +00:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None"
2018-07-17 06:06:20.056 +00:00 [Information] Executed DbCommand ("28"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA=N'dev-tribechimppaymentcore' AND TABLE_NAME=N'__EFMigrationsHistory';"
2018-07-17 06:06:20.089 +00:00 [Information] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA=N'dev-tribechimppaymentcore' AND TABLE_NAME=N'__EFMigrationsHistory';"
2018-07-17 06:06:20.126 +00:00 [Information] Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;"
2018-07-17 06:06:20.143 +00:00 [Information] No migrations were applied. The database is already up to date.
2018-07-17 06:06:20.255 +00:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM `ConfiguredPaymentGateways` AS `c`)
    THEN TRUE ELSE FALSE
END"
2018-07-17 06:06:22.184 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/swagger/index.html  
2018-07-17 06:06:22.239 +00:00 [Information] Request finished in 53.9959ms 200 text/html
2018-07-17 06:06:22.692 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/swagger/v1/swagger.json  
2018-07-17 06:06:23.146 +00:00 [Information] Request finished in 453.6686ms 200 application/json;charset=utf-8
2018-07-17 06:24:18.707 +00:00 [Information] User profile is available. Using '"C:\Users\MichikaP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-07-17 06:24:20.538 +00:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None"
2018-07-17 06:24:20.877 +00:00 [Information] Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA=N'dev-tribechimppaymentcore' AND TABLE_NAME=N'__EFMigrationsHistory';"
2018-07-17 06:24:20.903 +00:00 [Information] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA=N'dev-tribechimppaymentcore' AND TABLE_NAME=N'__EFMigrationsHistory';"
2018-07-17 06:24:20.916 +00:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;"
2018-07-17 06:24:20.949 +00:00 [Information] No migrations were applied. The database is already up to date.
2018-07-17 06:24:21.068 +00:00 [Information] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM `ConfiguredPaymentGateways` AS `c`)
    THEN TRUE ELSE FALSE
END"
2018-07-17 06:24:22.871 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/swagger/index.html  
2018-07-17 06:24:22.933 +00:00 [Information] Request finished in 61.4364ms 200 text/html
2018-07-17 06:24:23.402 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/swagger/v1/swagger.json  
2018-07-17 06:24:24.394 +00:00 [Information] Request finished in 990.6256ms 200 application/json;charset=utf-8
2018-07-17 06:26:18.065 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/api/invoice/createrecurringinvoice application/json 135
2018-07-17 06:26:18.272 +00:00 [Information] Route matched with "{action = \"CreateRecurringInvoice\", controller = \"Invoice\"}". Executing action "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.CreateRecurringInvoice (Empite.TribechimpService.PaymentService)"
2018-07-17 06:26:18.441 +00:00 [Information] Executing action method "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.CreateRecurringInvoice (Empite.TribechimpService.PaymentService)" with arguments (["Empite.TribechimpService.PaymentService.Domain.Dto.CreateRecurringInvoiceDto"]) - Validation state: Valid
2018-07-17 06:26:48.870 +00:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None"
2018-07-17 06:26:50.427 +00:00 [Information] Executed DbCommand ("35"ms) [Parameters=["@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (Size = 8000) (DbType = AnsiString), @p8='?' (Size = 8000) (DbType = AnsiString), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `ZohoInvoiceJobQueues` (`Id`, `CreatedAt`, `CreatedBy`, `DeletedAt`, `DeletedBy`, `IsSuccess`, `JobType`, `JsonData`, `LastErrorMessage`, `ReTryCount`, `UpdatedAt`, `UpdatedBy`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);"
2018-07-17 06:26:57.562 +00:00 [Information] Executed action method "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.CreateRecurringInvoice (Empite.TribechimpService.PaymentService)", returned result "Microsoft.AspNetCore.Mvc.OkResult" in 39046.6204ms.
2018-07-17 06:26:57.596 +00:00 [Information] Executing HttpStatusCodeResult, setting HTTP status code 200
2018-07-17 06:26:57.612 +00:00 [Information] Executed action "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.CreateRecurringInvoice (Empite.TribechimpService.PaymentService)" in 39318.5072ms
2018-07-17 06:26:57.631 +00:00 [Information] Request finished in 39564.217ms 200 
2018-07-17 06:27:39.303 +00:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None"
2018-07-17 06:27:56.310 +00:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None"
2018-07-17 06:27:56.809 +00:00 [Information] Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA=N'dev-tribechimppaymentcore' AND TABLE_NAME=N'__EFMigrationsHistory';"
2018-07-17 06:27:56.832 +00:00 [Information] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA=N'dev-tribechimppaymentcore' AND TABLE_NAME=N'__EFMigrationsHistory';"
2018-07-17 06:27:56.847 +00:00 [Information] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;"
2018-07-17 06:27:56.856 +00:00 [Information] Applying migration '"20180717062739_Added_all_completed_RecurringInvoice"'.
2018-07-17 06:27:56.972 +00:00 [Information] Executed DbCommand ("72"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE `RecurringInvoices` ADD `AllTaskCompleted` bit NOT NULL DEFAULT FALSE;"
2018-07-17 06:27:56.976 +00:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES (N'20180717062739_Added_all_completed_RecurringInvoice', N'2.1.1-rtm-30846');"
2018-07-17 06:28:11.057 +00:00 [Information] User profile is available. Using '"C:\Users\MichikaP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-07-17 06:28:13.011 +00:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None"
2018-07-17 06:28:13.315 +00:00 [Information] Executed DbCommand ("30"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA=N'dev-tribechimppaymentcore' AND TABLE_NAME=N'__EFMigrationsHistory';"
2018-07-17 06:28:13.346 +00:00 [Information] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA=N'dev-tribechimppaymentcore' AND TABLE_NAME=N'__EFMigrationsHistory';"
2018-07-17 06:28:13.365 +00:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;"
2018-07-17 06:28:13.382 +00:00 [Information] No migrations were applied. The database is already up to date.
2018-07-17 06:28:13.511 +00:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM `ConfiguredPaymentGateways` AS `c`)
    THEN TRUE ELSE FALSE
END"
2018-07-17 06:28:15.499 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/swagger/index.html  
2018-07-17 06:28:15.638 +00:00 [Information] Request finished in 143.8138ms 200 text/html
2018-07-17 06:28:16.172 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/swagger/v1/swagger.json  
2018-07-17 06:28:16.636 +00:00 [Information] Request finished in 462.5892ms 200 application/json;charset=utf-8
2018-07-17 06:28:21.111 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/api/invoice/runjobs  
2018-07-17 06:28:21.251 +00:00 [Information] Route matched with "{action = \"RunJobs\", controller = \"Invoice\"}". Executing action "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.RunJobs (Empite.TribechimpService.PaymentService)"
2018-07-17 06:28:21.284 +00:00 [Information] Executing action method "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.RunJobs (Empite.TribechimpService.PaymentService)" - Validation state: Valid
2018-07-17 06:28:30.830 +00:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None"
2018-07-17 06:28:30.920 +00:00 [Information] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ZohoInvoiceJobQueues` AS `x`
WHERE `x`.`IsSuccess` = FALSE"
2018-07-17 06:28:37.639 +00:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `x`.`Id`, `x`.`CreatedAt`, `x`.`CreatedBy`, `x`.`DeletedAt`, `x`.`DeletedBy`, `x`.`IsSuccess`, `x`.`JobType`, `x`.`JsonData`, `x`.`LastErrorMessage`, `x`.`ReTryCount`, `x`.`UpdatedAt`, `x`.`UpdatedBy`
FROM `ZohoInvoiceJobQueues` AS `x`
WHERE `x`.`IsSuccess` = FALSE
ORDER BY `x`.`CreatedAt`
LIMIT @__p_1 OFFSET @__p_0"
2018-07-17 06:28:45.537 +00:00 [Information] Executed action method "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.RunJobs (Empite.TribechimpService.PaymentService)", returned result "Microsoft.AspNetCore.Mvc.OkResult" in 22978.8111ms.
2018-07-17 06:28:51.322 +00:00 [Information] Executing HttpStatusCodeResult, setting HTTP status code 200
2018-07-17 06:28:53.100 +00:00 [Information] Executed action "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.RunJobs (Empite.TribechimpService.PaymentService)" in 31831.1205ms
2018-07-17 06:28:55.633 +00:00 [Information] Request finished in 32005.4789ms 200 
2018-07-17 06:29:11.072 +00:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__recurringInfo_UserId_0='?' (Size = 255)"], CommandType='Text', CommandTimeout='30']"
""SELECT `x`.`UserId`, `x`.`CreatedAt`, `x`.`CreatedBy`, `x`.`DeletedAt`, `x`.`DeletedBy`, `x`.`Email`, `x`.`OrganizationId`, `x`.`UpdatedAt`, `x`.`UpdatedBy`, `x`.`ZohoContactUserId`, `x`.`ZohoPrimaryContactId`
FROM `InvoiceContacts` AS `x`
WHERE `x`.`UserId` = @__recurringInfo_UserId_0
ORDER BY `x`.`UserId`
LIMIT 1"
2018-07-17 06:29:11.104 +00:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__recurringInfo_UserId_0='?' (Size = 255)"], CommandType='Text', CommandTimeout='30']"
""SELECT `x.RecurringInvoices`.`Id`, `x.RecurringInvoices`.`AllTaskCompleted`, `x.RecurringInvoices`.`CreatedAt`, `x.RecurringInvoices`.`CreatedBy`, `x.RecurringInvoices`.`DeletedAt`, `x.RecurringInvoices`.`DeletedBy`, `x.RecurringInvoices`.`InvoiceContactUserId`, `x.RecurringInvoices`.`IsDue`, `x.RecurringInvoices`.`RecurringInvoiceId`, `x.RecurringInvoices`.`UpdatedAt`, `x.RecurringInvoices`.`UpdatedBy`
FROM `RecurringInvoices` AS `x.RecurringInvoices`
INNER JOIN (
    SELECT `x0`.`UserId`
    FROM `InvoiceContacts` AS `x0`
    WHERE `x0`.`UserId` = @__recurringInfo_UserId_0
    ORDER BY `x0`.`UserId`
    LIMIT 1
) AS `t` ON `x.RecurringInvoices`.`InvoiceContactUserId` = `t`.`UserId`
ORDER BY `t`.`UserId`"
2018-07-17 06:29:35.418 +00:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__itemId_ItemId_0='?' (Size = 255)"], CommandType='Text', CommandTimeout='30']"
""SELECT `y`.`Id`, `y`.`CreatedAt`, `y`.`CreatedBy`, `y`.`DeletedAt`, `y`.`DeletedBy`, `y`.`Description`, `y`.`Name`, `y`.`Rate`, `y`.`UpdatedAt`, `y`.`UpdatedBy`, `y`.`ZohoItemId`
FROM `ZohoItems` AS `y`
WHERE `y`.`Id` = @__itemId_ItemId_0
LIMIT 1"
2018-07-17 06:29:44.961 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `x`.`IsEnabled` AS `configured`, `x`.`GatewayName` AS `gateway_name`
FROM `ConfiguredPaymentGateways` AS `x`"
2018-07-17 06:29:58.644 +00:00 [Information] Start processing HTTP request "POST" https://invoice.zoho.com/api/v3/recurringinvoices
2018-07-17 06:29:58.650 +00:00 [Information] Sending HTTP request "POST" https://invoice.zoho.com/api/v3/recurringinvoices
2018-07-17 06:30:00.175 +00:00 [Information] Received HTTP response after 1516.8339ms - Created
2018-07-17 06:30:00.184 +00:00 [Information] End processing HTTP request after 1551.833ms - Created
2018-07-17 06:30:27.144 +00:00 [Information] Executed DbCommand ("17"ms) [Parameters=["@p0='?' (Size = 255), @p1='?' (DbType = Boolean), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = DateTime), @p5='?' (DbType = Guid), @p6='?' (Size = 255), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `RecurringInvoices` (`Id`, `AllTaskCompleted`, `CreatedAt`, `CreatedBy`, `DeletedAt`, `DeletedBy`, `InvoiceContactUserId`, `IsDue`, `RecurringInvoiceId`, `UpdatedAt`, `UpdatedBy`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);"
2018-07-17 06:30:27.186 +00:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p11='?' (Size = 255), @p12='?' (Size = 255), @p13='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `ZohoItemRecurringInvoice` (`RecurringInvoiceId`, `ZohoItemId`, `Qty`)
VALUES (@p11, @p12, @p13);"
2018-07-17 06:30:53.610 +00:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@p1='?' (Size = 255), @p0='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `ZohoInvoiceJobQueues` SET `UpdatedAt` = @p0
WHERE `Id` = @p1;
SELECT ROW_COUNT();"
2018-07-17 06:30:53.620 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (Size = 8000) (DbType = AnsiString), @p8='?' (Size = 8000) (DbType = AnsiString), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `ZohoInvoiceJobQueues` (`Id`, `CreatedAt`, `CreatedBy`, `DeletedAt`, `DeletedBy`, `IsSuccess`, `JobType`, `JsonData`, `LastErrorMessage`, `ReTryCount`, `UpdatedAt`, `UpdatedBy`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);"
2018-07-17 06:30:55.809 +00:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p1='?' (Size = 255), @p0='?' (DbType = Boolean)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `ZohoInvoiceJobQueues` SET `IsSuccess` = @p0
WHERE `Id` = @p1;
SELECT ROW_COUNT();"
2018-07-17 06:31:07.544 +00:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@__recurringInvoiceId_0='?' (Size = 255)"], CommandType='Text', CommandTimeout='30']"
""SELECT `x`.`Id`, `x`.`AllTaskCompleted`, `x`.`CreatedAt`, `x`.`CreatedBy`, `x`.`DeletedAt`, `x`.`DeletedBy`, `x`.`InvoiceContactUserId`, `x`.`IsDue`, `x`.`RecurringInvoiceId`, `x`.`UpdatedAt`, `x`.`UpdatedBy`
FROM `RecurringInvoices` AS `x`
WHERE `x`.`Id` = @__recurringInvoiceId_0
ORDER BY `x`.`Id`
LIMIT 1"
2018-07-17 06:31:07.558 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__recurringInvoiceId_0='?' (Size = 255)"], CommandType='Text', CommandTimeout='30']"
""SELECT `x.ZohoItems`.`RecurringInvoiceId`, `x.ZohoItems`.`ZohoItemId`, `x.ZohoItems`.`Qty`
FROM `ZohoItemRecurringInvoice` AS `x.ZohoItems`
INNER JOIN (
    SELECT `x0`.`Id`
    FROM `RecurringInvoices` AS `x0`
    WHERE `x0`.`Id` = @__recurringInvoiceId_0
    ORDER BY `x0`.`Id`
    LIMIT 1
) AS `t` ON `x.ZohoItems`.`RecurringInvoiceId` = `t`.`Id`
ORDER BY `t`.`Id`"
2018-07-17 06:31:18.659 +00:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@__recurringInvoice_0_Id='?' (Size = 255)"], CommandType='Text', CommandTimeout='30']"
""SELECT `x`.`UserId`, `x`.`CreatedAt`, `x`.`CreatedBy`, `x`.`DeletedAt`, `x`.`DeletedBy`, `x`.`Email`, `x`.`OrganizationId`, `x`.`UpdatedAt`, `x`.`UpdatedBy`, `x`.`ZohoContactUserId`, `x`.`ZohoPrimaryContactId`
FROM `InvoiceContacts` AS `x`
WHERE @__recurringInvoice_0_Id IN (
    SELECT `r`.`Id`
    FROM `RecurringInvoices` AS `r`
    WHERE `x`.`UserId` = `r`.`InvoiceContactUserId`
)
ORDER BY `x`.`UserId`
LIMIT 1"
2018-07-17 06:31:18.670 +00:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@__recurringInvoice_0_Id='?' (Size = 255)"], CommandType='Text', CommandTimeout='30']"
""SELECT `x.RecurringInvoices`.`Id`, `x.RecurringInvoices`.`AllTaskCompleted`, `x.RecurringInvoices`.`CreatedAt`, `x.RecurringInvoices`.`CreatedBy`, `x.RecurringInvoices`.`DeletedAt`, `x.RecurringInvoices`.`DeletedBy`, `x.RecurringInvoices`.`InvoiceContactUserId`, `x.RecurringInvoices`.`IsDue`, `x.RecurringInvoices`.`RecurringInvoiceId`, `x.RecurringInvoices`.`UpdatedAt`, `x.RecurringInvoices`.`UpdatedBy`
FROM `RecurringInvoices` AS `x.RecurringInvoices`
INNER JOIN (
    SELECT `x0`.`UserId`
    FROM `InvoiceContacts` AS `x0`
    WHERE @__recurringInvoice_0_Id IN (
        SELECT `r0`.`Id`
        FROM `RecurringInvoices` AS `r0`
        WHERE `x0`.`UserId` = `r0`.`InvoiceContactUserId`
    )
    ORDER BY `x0`.`UserId`
    LIMIT 1
) AS `t` ON `x.RecurringInvoices`.`InvoiceContactUserId` = `t`.`UserId`
ORDER BY `t`.`UserId`"
2018-07-17 06:31:47.774 +00:00 [Information] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `x`.`IsEnabled` AS `configured`, `x`.`GatewayName` AS `gateway_name`
FROM `ConfiguredPaymentGateways` AS `x`"
2018-07-17 06:32:11.228 +00:00 [Information] Start processing HTTP request "POST" https://invoice.zoho.com/api/v3/invoices
2018-07-17 06:32:11.232 +00:00 [Information] Sending HTTP request "POST" https://invoice.zoho.com/api/v3/invoices
2018-07-17 06:32:12.484 +00:00 [Information] Received HTTP response after 1250.7685ms - Created
2018-07-17 06:32:12.495 +00:00 [Information] End processing HTTP request after 1263.4243ms - Created
2018-07-17 06:32:28.730 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (Size = 8000) (DbType = AnsiString), @p8='?' (Size = 8000) (DbType = AnsiString), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `ZohoInvoiceJobQueues` (`Id`, `CreatedAt`, `CreatedBy`, `DeletedAt`, `DeletedBy`, `IsSuccess`, `JobType`, `JsonData`, `LastErrorMessage`, `ReTryCount`, `UpdatedAt`, `UpdatedBy`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);"
2018-07-17 06:32:32.413 +00:00 [Information] Start processing HTTP request "POST" https://invoice.zoho.com/api/v3/invoices/1414691000000094001/email
2018-07-17 06:32:32.417 +00:00 [Information] Sending HTTP request "POST" https://invoice.zoho.com/api/v3/invoices/1414691000000094001/email
2018-07-17 06:32:33.325 +00:00 [Information] Received HTTP response after 908.1527ms - OK
2018-07-17 06:32:33.329 +00:00 [Information] End processing HTTP request after 918.0666ms - OK
2018-07-17 06:32:39.959 +00:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@p1='?' (Size = 255), @p0='?' (DbType = Boolean)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `RecurringInvoices` SET `AllTaskCompleted` = @p0
WHERE `Id` = @p1;
SELECT ROW_COUNT();"
2018-07-17 06:32:39.966 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@p2='?' (Size = 255), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `ZohoInvoiceJobQueues` SET `IsSuccess` = @p0, `UpdatedAt` = @p1
WHERE `Id` = @p2;
SELECT ROW_COUNT();"
2018-07-17 06:32:52.682 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@p1='?' (Size = 255), @p0='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `ZohoInvoiceJobQueues` SET `UpdatedAt` = @p0
WHERE `Id` = @p1;
SELECT ROW_COUNT();"
2018-07-17 06:32:52.689 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@p1='?' (Size = 255), @p0='?' (DbType = Boolean)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `ZohoInvoiceJobQueues` SET `IsSuccess` = @p0
WHERE `Id` = @p1;
SELECT ROW_COUNT();"
2018-07-17 06:41:30.223 +00:00 [Information] User profile is available. Using '"C:\Users\MichikaP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-07-17 06:41:31.852 +00:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None"
2018-07-17 06:41:32.124 +00:00 [Information] Executed DbCommand ("20"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA=N'dev-tribechimppaymentcore' AND TABLE_NAME=N'__EFMigrationsHistory';"
2018-07-17 06:41:32.147 +00:00 [Information] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA=N'dev-tribechimppaymentcore' AND TABLE_NAME=N'__EFMigrationsHistory';"
2018-07-17 06:41:32.163 +00:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;"
2018-07-17 06:41:32.177 +00:00 [Information] No migrations were applied. The database is already up to date.
2018-07-17 06:41:32.278 +00:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM `ConfiguredPaymentGateways` AS `c`)
    THEN TRUE ELSE FALSE
END"
2018-07-17 06:41:34.212 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/swagger/index.html  
2018-07-17 06:41:34.426 +00:00 [Information] Request finished in 165.7575ms 200 text/html
2018-07-17 06:41:34.840 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/swagger/v1/swagger.json  
2018-07-17 06:41:35.260 +00:00 [Information] Request finished in 418.1965ms 200 application/json;charset=utf-8
2018-07-17 06:43:36.995 +00:00 [Information] User profile is available. Using '"C:\Users\MichikaP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-07-17 06:43:38.590 +00:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None"
2018-07-17 06:43:38.903 +00:00 [Information] Executed DbCommand ("22"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA=N'dev-tribechimppaymentcore' AND TABLE_NAME=N'__EFMigrationsHistory';"
2018-07-17 06:43:38.927 +00:00 [Information] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA=N'dev-tribechimppaymentcore' AND TABLE_NAME=N'__EFMigrationsHistory';"
2018-07-17 06:43:38.942 +00:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;"
2018-07-17 06:43:38.955 +00:00 [Information] No migrations were applied. The database is already up to date.
2018-07-17 06:43:39.077 +00:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM `ConfiguredPaymentGateways` AS `c`)
    THEN TRUE ELSE FALSE
END"
2018-07-17 06:43:41.209 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/swagger/index.html  
2018-07-17 06:43:41.380 +00:00 [Information] Request finished in 84.3831ms 200 text/html
2018-07-17 06:43:41.740 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/swagger/v1/swagger.json  
2018-07-17 06:43:42.192 +00:00 [Information] Request finished in 451.1616ms 200 application/json;charset=utf-8
2018-07-17 06:44:16.745 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/api/invoice/createrecurringinvoice application/json 135
2018-07-17 06:44:16.848 +00:00 [Information] Route matched with "{action = \"CreateRecurringInvoice\", controller = \"Invoice\"}". Executing action "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.CreateRecurringInvoice (Empite.TribechimpService.PaymentService)"
2018-07-17 06:44:16.968 +00:00 [Information] Executing action method "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.CreateRecurringInvoice (Empite.TribechimpService.PaymentService)" with arguments (["Empite.TribechimpService.PaymentService.Domain.Dto.CreateRecurringInvoiceDto"]) - Validation state: Valid
2018-07-17 06:44:22.290 +00:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None"
2018-07-17 06:44:22.695 +00:00 [Information] Executed DbCommand ("30"ms) [Parameters=["@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (Size = 8000) (DbType = AnsiString), @p8='?' (Size = 8000) (DbType = AnsiString), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `ZohoInvoiceJobQueues` (`Id`, `CreatedAt`, `CreatedBy`, `DeletedAt`, `DeletedBy`, `IsSuccess`, `JobType`, `JsonData`, `LastErrorMessage`, `ReTryCount`, `UpdatedAt`, `UpdatedBy`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);"
2018-07-17 06:44:22.744 +00:00 [Information] Executed action method "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.CreateRecurringInvoice (Empite.TribechimpService.PaymentService)", returned result "Microsoft.AspNetCore.Mvc.OkResult" in 5600.0452ms.
2018-07-17 06:44:22.793 +00:00 [Information] Executing HttpStatusCodeResult, setting HTTP status code 200
2018-07-17 06:44:22.878 +00:00 [Information] Executed action "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.CreateRecurringInvoice (Empite.TribechimpService.PaymentService)" in 6005.7461ms
2018-07-17 06:44:22.933 +00:00 [Information] Request finished in 6163.6408ms 200 
2018-07-17 06:44:33.208 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/api/invoice/runjobs  
2018-07-17 06:44:33.225 +00:00 [Information] Route matched with "{action = \"RunJobs\", controller = \"Invoice\"}". Executing action "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.RunJobs (Empite.TribechimpService.PaymentService)"
2018-07-17 06:44:33.247 +00:00 [Information] Executing action method "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.RunJobs (Empite.TribechimpService.PaymentService)" - Validation state: Valid
2018-07-17 06:44:37.870 +00:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None"
2018-07-17 06:44:37.924 +00:00 [Information] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ZohoInvoiceJobQueues` AS `x`
WHERE `x`.`IsSuccess` = FALSE"
2018-07-17 06:44:37.964 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `x`.`Id`, `x`.`CreatedAt`, `x`.`CreatedBy`, `x`.`DeletedAt`, `x`.`DeletedBy`, `x`.`IsSuccess`, `x`.`JobType`, `x`.`JsonData`, `x`.`LastErrorMessage`, `x`.`ReTryCount`, `x`.`UpdatedAt`, `x`.`UpdatedBy`
FROM `ZohoInvoiceJobQueues` AS `x`
WHERE `x`.`IsSuccess` = FALSE
ORDER BY `x`.`CreatedAt`
LIMIT @__p_1 OFFSET @__p_0"
2018-07-17 06:44:37.989 +00:00 [Information] Executed action method "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.RunJobs (Empite.TribechimpService.PaymentService)", returned result "Microsoft.AspNetCore.Mvc.OkResult" in 4736.487ms.
2018-07-17 06:44:37.993 +00:00 [Information] Executing HttpStatusCodeResult, setting HTTP status code 200
2018-07-17 06:44:37.996 +00:00 [Information] Executed action "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.RunJobs (Empite.TribechimpService.PaymentService)" in 4765.4933ms
2018-07-17 06:44:38.005 +00:00 [Information] Request finished in 4798.2319ms 200 
2018-07-17 06:44:54.170 +00:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@__recurringInfo_UserId_0='?' (Size = 255)"], CommandType='Text', CommandTimeout='30']"
""SELECT `x`.`UserId`, `x`.`CreatedAt`, `x`.`CreatedBy`, `x`.`DeletedAt`, `x`.`DeletedBy`, `x`.`Email`, `x`.`OrganizationId`, `x`.`UpdatedAt`, `x`.`UpdatedBy`, `x`.`ZohoContactUserId`, `x`.`ZohoPrimaryContactId`
FROM `InvoiceContacts` AS `x`
WHERE `x`.`UserId` = @__recurringInfo_UserId_0
ORDER BY `x`.`UserId`
LIMIT 1"
2018-07-17 06:44:54.199 +00:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@__recurringInfo_UserId_0='?' (Size = 255)"], CommandType='Text', CommandTimeout='30']"
""SELECT `x.RecurringInvoices`.`Id`, `x.RecurringInvoices`.`AllTaskCompleted`, `x.RecurringInvoices`.`CreatedAt`, `x.RecurringInvoices`.`CreatedBy`, `x.RecurringInvoices`.`DeletedAt`, `x.RecurringInvoices`.`DeletedBy`, `x.RecurringInvoices`.`InvoiceContactUserId`, `x.RecurringInvoices`.`IsDue`, `x.RecurringInvoices`.`RecurringInvoiceId`, `x.RecurringInvoices`.`UpdatedAt`, `x.RecurringInvoices`.`UpdatedBy`
FROM `RecurringInvoices` AS `x.RecurringInvoices`
INNER JOIN (
    SELECT `x0`.`UserId`
    FROM `InvoiceContacts` AS `x0`
    WHERE `x0`.`UserId` = @__recurringInfo_UserId_0
    ORDER BY `x0`.`UserId`
    LIMIT 1
) AS `t` ON `x.RecurringInvoices`.`InvoiceContactUserId` = `t`.`UserId`
ORDER BY `t`.`UserId`"
2018-07-17 06:45:01.977 +00:00 [Information] Executed DbCommand ("17"ms) [Parameters=["@__itemId_ItemId_0='?' (Size = 255)"], CommandType='Text', CommandTimeout='30']"
""SELECT `y`.`Id`, `y`.`CreatedAt`, `y`.`CreatedBy`, `y`.`DeletedAt`, `y`.`DeletedBy`, `y`.`Description`, `y`.`Name`, `y`.`Rate`, `y`.`UpdatedAt`, `y`.`UpdatedBy`, `y`.`ZohoItemId`
FROM `ZohoItems` AS `y`
WHERE `y`.`Id` = @__itemId_ItemId_0
LIMIT 1"
2018-07-17 06:45:15.175 +00:00 [Information] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `x`.`IsEnabled` AS `configured`, `x`.`GatewayName` AS `gateway_name`
FROM `ConfiguredPaymentGateways` AS `x`"
2018-07-17 06:45:35.012 +00:00 [Information] Start processing HTTP request "POST" https://invoice.zoho.com/api/v3/recurringinvoices
2018-07-17 06:45:35.019 +00:00 [Information] Sending HTTP request "POST" https://invoice.zoho.com/api/v3/recurringinvoices
2018-07-17 06:45:36.545 +00:00 [Information] Received HTTP response after 1519.6227ms - Created
2018-07-17 06:45:36.554 +00:00 [Information] End processing HTTP request after 1549.8335ms - Created
2018-07-17 06:46:01.121 +00:00 [Information] Executed DbCommand ("27"ms) [Parameters=["@p0='?' (Size = 255), @p1='?' (DbType = Boolean), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = DateTime), @p5='?' (DbType = Guid), @p6='?' (Size = 255), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `RecurringInvoices` (`Id`, `AllTaskCompleted`, `CreatedAt`, `CreatedBy`, `DeletedAt`, `DeletedBy`, `InvoiceContactUserId`, `IsDue`, `RecurringInvoiceId`, `UpdatedAt`, `UpdatedBy`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);"
2018-07-17 06:46:01.175 +00:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@p11='?' (Size = 255), @p12='?' (Size = 255), @p13='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `ZohoItemRecurringInvoice` (`RecurringInvoiceId`, `ZohoItemId`, `Qty`)
VALUES (@p11, @p12, @p13);"
2018-07-17 06:46:11.702 +00:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@p1='?' (Size = 255), @p0='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `ZohoInvoiceJobQueues` SET `UpdatedAt` = @p0
WHERE `Id` = @p1;
SELECT ROW_COUNT();"
2018-07-17 06:46:11.710 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (Size = 8000) (DbType = AnsiString), @p8='?' (Size = 8000) (DbType = AnsiString), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `ZohoInvoiceJobQueues` (`Id`, `CreatedAt`, `CreatedBy`, `DeletedAt`, `DeletedBy`, `IsSuccess`, `JobType`, `JsonData`, `LastErrorMessage`, `ReTryCount`, `UpdatedAt`, `UpdatedBy`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);"
2018-07-17 06:46:13.490 +00:00 [Information] Executed DbCommand ("60"ms) [Parameters=["@p1='?' (Size = 255), @p0='?' (DbType = Boolean)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `ZohoInvoiceJobQueues` SET `IsSuccess` = @p0
WHERE `Id` = @p1;
SELECT ROW_COUNT();"
2018-07-17 06:46:15.764 +00:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@__recurringInvoiceId_0='?' (Size = 255)"], CommandType='Text', CommandTimeout='30']"
""SELECT `x`.`Id`, `x`.`AllTaskCompleted`, `x`.`CreatedAt`, `x`.`CreatedBy`, `x`.`DeletedAt`, `x`.`DeletedBy`, `x`.`InvoiceContactUserId`, `x`.`IsDue`, `x`.`RecurringInvoiceId`, `x`.`UpdatedAt`, `x`.`UpdatedBy`
FROM `RecurringInvoices` AS `x`
WHERE `x`.`Id` = @__recurringInvoiceId_0
ORDER BY `x`.`Id`
LIMIT 1"
2018-07-17 06:46:15.779 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__recurringInvoiceId_0='?' (Size = 255)"], CommandType='Text', CommandTimeout='30']"
""SELECT `x.ZohoItems`.`RecurringInvoiceId`, `x.ZohoItems`.`ZohoItemId`, `x.ZohoItems`.`Qty`
FROM `ZohoItemRecurringInvoice` AS `x.ZohoItems`
INNER JOIN (
    SELECT `x0`.`Id`
    FROM `RecurringInvoices` AS `x0`
    WHERE `x0`.`Id` = @__recurringInvoiceId_0
    ORDER BY `x0`.`Id`
    LIMIT 1
) AS `t` ON `x.ZohoItems`.`RecurringInvoiceId` = `t`.`Id`
ORDER BY `t`.`Id`"
2018-07-17 06:46:15.830 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__recurringInvoice_0_Id='?' (Size = 255)"], CommandType='Text', CommandTimeout='30']"
""SELECT `x`.`UserId`, `x`.`CreatedAt`, `x`.`CreatedBy`, `x`.`DeletedAt`, `x`.`DeletedBy`, `x`.`Email`, `x`.`OrganizationId`, `x`.`UpdatedAt`, `x`.`UpdatedBy`, `x`.`ZohoContactUserId`, `x`.`ZohoPrimaryContactId`
FROM `InvoiceContacts` AS `x`
WHERE @__recurringInvoice_0_Id IN (
    SELECT `r`.`Id`
    FROM `RecurringInvoices` AS `r`
    WHERE `x`.`UserId` = `r`.`InvoiceContactUserId`
)
ORDER BY `x`.`UserId`
LIMIT 1"
2018-07-17 06:46:15.844 +00:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__recurringInvoice_0_Id='?' (Size = 255)"], CommandType='Text', CommandTimeout='30']"
""SELECT `x.RecurringInvoices`.`Id`, `x.RecurringInvoices`.`AllTaskCompleted`, `x.RecurringInvoices`.`CreatedAt`, `x.RecurringInvoices`.`CreatedBy`, `x.RecurringInvoices`.`DeletedAt`, `x.RecurringInvoices`.`DeletedBy`, `x.RecurringInvoices`.`InvoiceContactUserId`, `x.RecurringInvoices`.`IsDue`, `x.RecurringInvoices`.`RecurringInvoiceId`, `x.RecurringInvoices`.`UpdatedAt`, `x.RecurringInvoices`.`UpdatedBy`
FROM `RecurringInvoices` AS `x.RecurringInvoices`
INNER JOIN (
    SELECT `x0`.`UserId`
    FROM `InvoiceContacts` AS `x0`
    WHERE @__recurringInvoice_0_Id IN (
        SELECT `r0`.`Id`
        FROM `RecurringInvoices` AS `r0`
        WHERE `x0`.`UserId` = `r0`.`InvoiceContactUserId`
    )
    ORDER BY `x0`.`UserId`
    LIMIT 1
) AS `t` ON `x.RecurringInvoices`.`InvoiceContactUserId` = `t`.`UserId`
ORDER BY `t`.`UserId`"
2018-07-17 06:46:15.860 +00:00 [Information] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `x`.`IsEnabled` AS `configured`, `x`.`GatewayName` AS `gateway_name`
FROM `ConfiguredPaymentGateways` AS `x`"
2018-07-17 06:46:15.874 +00:00 [Information] Start processing HTTP request "POST" https://invoice.zoho.com/api/v3/invoices
2018-07-17 06:46:15.879 +00:00 [Information] Sending HTTP request "POST" https://invoice.zoho.com/api/v3/invoices
2018-07-17 06:46:17.140 +00:00 [Information] Received HTTP response after 1261.2233ms - Created
2018-07-17 06:46:17.147 +00:00 [Information] End processing HTTP request after 1272.8515ms - Created
2018-07-17 06:46:17.167 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (Size = 8000) (DbType = AnsiString), @p8='?' (Size = 8000) (DbType = AnsiString), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `ZohoInvoiceJobQueues` (`Id`, `CreatedAt`, `CreatedBy`, `DeletedAt`, `DeletedBy`, `IsSuccess`, `JobType`, `JsonData`, `LastErrorMessage`, `ReTryCount`, `UpdatedAt`, `UpdatedBy`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);"
2018-07-17 06:46:17.182 +00:00 [Information] Start processing HTTP request "POST" https://invoice.zoho.com/api/v3/invoices/1414691000000096011/email
2018-07-17 06:46:17.186 +00:00 [Information] Sending HTTP request "POST" https://invoice.zoho.com/api/v3/invoices/1414691000000096011/email
2018-07-17 06:46:18.122 +00:00 [Information] Received HTTP response after 934.4769ms - OK
2018-07-17 06:46:18.132 +00:00 [Information] End processing HTTP request after 948.3704ms - OK
2018-07-17 06:46:18.150 +00:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@p1='?' (Size = 255), @p0='?' (DbType = Boolean)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `RecurringInvoices` SET `AllTaskCompleted` = @p0
WHERE `Id` = @p1;
SELECT ROW_COUNT();"
2018-07-17 06:46:18.159 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@p2='?' (Size = 255), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `ZohoInvoiceJobQueues` SET `IsSuccess` = @p0, `UpdatedAt` = @p1
WHERE `Id` = @p2;
SELECT ROW_COUNT();"
2018-07-17 06:46:21.318 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@p2='?' (Size = 255), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `ZohoInvoiceJobQueues` SET `IsSuccess` = @p0, `UpdatedAt` = @p1
WHERE `Id` = @p2;
SELECT ROW_COUNT();"
2018-07-17 06:53:57.506 +00:00 [Information] User profile is available. Using '"C:\Users\MichikaP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-07-17 06:53:59.124 +00:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None"
2018-07-17 06:53:59.367 +00:00 [Information] Executed DbCommand ("18"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA=N'dev-tribechimppaymentcore' AND TABLE_NAME=N'__EFMigrationsHistory';"
2018-07-17 06:53:59.399 +00:00 [Information] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA=N'dev-tribechimppaymentcore' AND TABLE_NAME=N'__EFMigrationsHistory';"
2018-07-17 06:53:59.410 +00:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;"
2018-07-17 06:53:59.423 +00:00 [Information] No migrations were applied. The database is already up to date.
2018-07-17 06:53:59.511 +00:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM `ConfiguredPaymentGateways` AS `c`)
    THEN TRUE ELSE FALSE
END"
2018-07-17 06:54:01.825 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/swagger/index.html  
2018-07-17 06:54:01.954 +00:00 [Information] Request finished in 126.4647ms 200 text/html
2018-07-17 06:54:03.836 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/swagger/v1/swagger.json  
2018-07-17 06:54:04.227 +00:00 [Information] Request finished in 387.4386ms 200 application/json;charset=utf-8
2018-07-17 06:59:11.690 +00:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None"
2018-07-17 06:59:22.579 +00:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None"
2018-07-17 06:59:23.013 +00:00 [Information] Executed DbCommand ("22"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA=N'dev-tribechimppaymentcore' AND TABLE_NAME=N'__EFMigrationsHistory';"
2018-07-17 06:59:23.039 +00:00 [Information] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA=N'dev-tribechimppaymentcore' AND TABLE_NAME=N'__EFMigrationsHistory';"
2018-07-17 06:59:23.051 +00:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;"
2018-07-17 06:59:23.060 +00:00 [Information] Applying migration '"20180717065911_Added_name_recurringInvoice"'.
2018-07-17 06:59:23.136 +00:00 [Information] Executed DbCommand ("45"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE `RecurringInvoices` ADD `RecurringInvoiceName` longtext NULL;"
2018-07-17 06:59:23.138 +00:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES (N'20180717065911_Added_name_recurringInvoice', N'2.1.1-rtm-30846');"
2018-07-17 06:59:36.655 +00:00 [Information] User profile is available. Using '"C:\Users\MichikaP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-07-17 06:59:38.495 +00:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None"
2018-07-17 06:59:38.770 +00:00 [Information] Executed DbCommand ("19"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA=N'dev-tribechimppaymentcore' AND TABLE_NAME=N'__EFMigrationsHistory';"
2018-07-17 06:59:38.794 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA=N'dev-tribechimppaymentcore' AND TABLE_NAME=N'__EFMigrationsHistory';"
2018-07-17 06:59:38.806 +00:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;"
2018-07-17 06:59:38.822 +00:00 [Information] No migrations were applied. The database is already up to date.
2018-07-17 06:59:38.910 +00:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM `ConfiguredPaymentGateways` AS `c`)
    THEN TRUE ELSE FALSE
END"
2018-07-17 06:59:40.639 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/swagger/index.html  
2018-07-17 06:59:40.694 +00:00 [Information] Request finished in 53.4283ms 200 text/html
2018-07-17 06:59:41.134 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/swagger/v1/swagger.json  
2018-07-17 06:59:41.574 +00:00 [Information] Request finished in 439.7141ms 200 application/json;charset=utf-8
2018-07-17 07:04:26.977 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/api/invoice/createrecurringinvoice application/json 135
2018-07-17 07:04:27.086 +00:00 [Information] Route matched with "{action = \"CreateRecurringInvoice\", controller = \"Invoice\"}". Executing action "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.CreateRecurringInvoice (Empite.TribechimpService.PaymentService)"
2018-07-17 07:04:27.174 +00:00 [Information] Executing action method "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.CreateRecurringInvoice (Empite.TribechimpService.PaymentService)" with arguments (["Empite.TribechimpService.PaymentService.Domain.Dto.CreateRecurringInvoiceDto"]) - Validation state: Valid
2018-07-17 07:04:34.762 +00:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None"
2018-07-17 07:04:35.116 +00:00 [Information] Executed DbCommand ("14"ms) [Parameters=["@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (Size = 8000) (DbType = AnsiString), @p8='?' (Size = 8000) (DbType = AnsiString), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `ZohoInvoiceJobQueues` (`Id`, `CreatedAt`, `CreatedBy`, `DeletedAt`, `DeletedBy`, `IsSuccess`, `JobType`, `JsonData`, `LastErrorMessage`, `ReTryCount`, `UpdatedAt`, `UpdatedBy`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);"
2018-07-17 07:04:35.146 +00:00 [Information] Executed action method "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.CreateRecurringInvoice (Empite.TribechimpService.PaymentService)", returned result "Microsoft.AspNetCore.Mvc.OkResult" in 7954.9317ms.
2018-07-17 07:04:35.165 +00:00 [Information] Executing HttpStatusCodeResult, setting HTTP status code 200
2018-07-17 07:04:35.178 +00:00 [Information] Executed action "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.CreateRecurringInvoice (Empite.TribechimpService.PaymentService)" in 8081.6406ms
2018-07-17 07:04:35.192 +00:00 [Information] Request finished in 8255.3297ms 200 
2018-07-17 07:04:51.634 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/api/invoice/runjobs  
2018-07-17 07:04:51.647 +00:00 [Information] Route matched with "{action = \"RunJobs\", controller = \"Invoice\"}". Executing action "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.RunJobs (Empite.TribechimpService.PaymentService)"
2018-07-17 07:04:51.658 +00:00 [Information] Executing action method "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.RunJobs (Empite.TribechimpService.PaymentService)" - Validation state: Valid
2018-07-17 07:04:57.574 +00:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None"
2018-07-17 07:04:57.626 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ZohoInvoiceJobQueues` AS `x`
WHERE `x`.`IsSuccess` = FALSE"
2018-07-17 07:04:57.668 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `x`.`Id`, `x`.`CreatedAt`, `x`.`CreatedBy`, `x`.`DeletedAt`, `x`.`DeletedBy`, `x`.`IsSuccess`, `x`.`JobType`, `x`.`JsonData`, `x`.`LastErrorMessage`, `x`.`ReTryCount`, `x`.`UpdatedAt`, `x`.`UpdatedBy`
FROM `ZohoInvoiceJobQueues` AS `x`
WHERE `x`.`IsSuccess` = FALSE
ORDER BY `x`.`CreatedAt`
LIMIT @__p_1 OFFSET @__p_0"
2018-07-17 07:04:57.699 +00:00 [Information] Executed action method "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.RunJobs (Empite.TribechimpService.PaymentService)", returned result "Microsoft.AspNetCore.Mvc.OkResult" in 6036.783ms.
2018-07-17 07:04:57.703 +00:00 [Information] Executing HttpStatusCodeResult, setting HTTP status code 200
2018-07-17 07:04:57.708 +00:00 [Information] Executed action "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.RunJobs (Empite.TribechimpService.PaymentService)" in 6055.2219ms
2018-07-17 07:04:57.714 +00:00 [Information] Request finished in 6078.7308ms 200 
2018-07-17 07:05:18.357 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__recurringInfo_UserId_0='?' (Size = 255)"], CommandType='Text', CommandTimeout='30']"
""SELECT `x`.`UserId`, `x`.`CreatedAt`, `x`.`CreatedBy`, `x`.`DeletedAt`, `x`.`DeletedBy`, `x`.`Email`, `x`.`OrganizationId`, `x`.`UpdatedAt`, `x`.`UpdatedBy`, `x`.`ZohoContactUserId`, `x`.`ZohoPrimaryContactId`
FROM `InvoiceContacts` AS `x`
WHERE `x`.`UserId` = @__recurringInfo_UserId_0
ORDER BY `x`.`UserId`
LIMIT 1"
2018-07-17 07:05:18.390 +00:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@__recurringInfo_UserId_0='?' (Size = 255)"], CommandType='Text', CommandTimeout='30']"
""SELECT `x.RecurringInvoices`.`Id`, `x.RecurringInvoices`.`AllTaskCompleted`, `x.RecurringInvoices`.`CreatedAt`, `x.RecurringInvoices`.`CreatedBy`, `x.RecurringInvoices`.`DeletedAt`, `x.RecurringInvoices`.`DeletedBy`, `x.RecurringInvoices`.`InvoiceContactUserId`, `x.RecurringInvoices`.`IsDue`, `x.RecurringInvoices`.`RecurringInvoiceId`, `x.RecurringInvoices`.`RecurringInvoiceName`, `x.RecurringInvoices`.`UpdatedAt`, `x.RecurringInvoices`.`UpdatedBy`
FROM `RecurringInvoices` AS `x.RecurringInvoices`
INNER JOIN (
    SELECT `x0`.`UserId`
    FROM `InvoiceContacts` AS `x0`
    WHERE `x0`.`UserId` = @__recurringInfo_UserId_0
    ORDER BY `x0`.`UserId`
    LIMIT 1
) AS `t` ON `x.RecurringInvoices`.`InvoiceContactUserId` = `t`.`UserId`
ORDER BY `t`.`UserId`"
2018-07-17 07:05:26.667 +00:00 [Information] Executed DbCommand ("42"ms) [Parameters=["@__itemId_ItemId_0='?' (Size = 255)"], CommandType='Text', CommandTimeout='30']"
""SELECT `y`.`Id`, `y`.`CreatedAt`, `y`.`CreatedBy`, `y`.`DeletedAt`, `y`.`DeletedBy`, `y`.`Description`, `y`.`Name`, `y`.`Rate`, `y`.`UpdatedAt`, `y`.`UpdatedBy`, `y`.`ZohoItemId`
FROM `ZohoItems` AS `y`
WHERE `y`.`Id` = @__itemId_ItemId_0
LIMIT 1"
2018-07-17 07:05:34.077 +00:00 [Information] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `x`.`IsEnabled` AS `configured`, `x`.`GatewayName` AS `gateway_name`
FROM `ConfiguredPaymentGateways` AS `x`"
2018-07-17 07:05:41.044 +00:00 [Information] Start processing HTTP request "POST" https://invoice.zoho.com/api/v3/recurringinvoices
2018-07-17 07:05:41.053 +00:00 [Information] Sending HTTP request "POST" https://invoice.zoho.com/api/v3/recurringinvoices
2018-07-17 07:05:42.719 +00:00 [Information] Received HTTP response after 1650.4303ms - Created
2018-07-17 07:05:42.736 +00:00 [Information] End processing HTTP request after 1693.2484ms - Created
2018-07-17 07:06:00.507 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 255), @p1='?' (DbType = Boolean), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = DateTime), @p5='?' (DbType = Guid), @p6='?' (Size = 255), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = DateTime), @p11='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `RecurringInvoices` (`Id`, `AllTaskCompleted`, `CreatedAt`, `CreatedBy`, `DeletedAt`, `DeletedBy`, `InvoiceContactUserId`, `IsDue`, `RecurringInvoiceId`, `RecurringInvoiceName`, `UpdatedAt`, `UpdatedBy`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);"
2018-07-17 07:06:00.527 +00:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@p12='?' (Size = 255), @p13='?' (Size = 255), @p14='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `ZohoItemRecurringInvoice` (`RecurringInvoiceId`, `ZohoItemId`, `Qty`)
VALUES (@p12, @p13, @p14);"
2018-07-17 07:06:04.699 +00:00 [Information] Executed DbCommand ("45"ms) [Parameters=["@p1='?' (Size = 255), @p0='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `ZohoInvoiceJobQueues` SET `UpdatedAt` = @p0
WHERE `Id` = @p1;
SELECT ROW_COUNT();"
2018-07-17 07:06:04.758 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (Size = 8000) (DbType = AnsiString), @p8='?' (Size = 8000) (DbType = AnsiString), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `ZohoInvoiceJobQueues` (`Id`, `CreatedAt`, `CreatedBy`, `DeletedAt`, `DeletedBy`, `IsSuccess`, `JobType`, `JsonData`, `LastErrorMessage`, `ReTryCount`, `UpdatedAt`, `UpdatedBy`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);"
2018-07-17 07:06:04.784 +00:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@p1='?' (Size = 255), @p0='?' (DbType = Boolean)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `ZohoInvoiceJobQueues` SET `IsSuccess` = @p0
WHERE `Id` = @p1;
SELECT ROW_COUNT();"
2018-07-17 07:06:04.838 +00:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@__recurringInvoiceId_0='?' (Size = 255)"], CommandType='Text', CommandTimeout='30']"
""SELECT `x`.`Id`, `x`.`AllTaskCompleted`, `x`.`CreatedAt`, `x`.`CreatedBy`, `x`.`DeletedAt`, `x`.`DeletedBy`, `x`.`InvoiceContactUserId`, `x`.`IsDue`, `x`.`RecurringInvoiceId`, `x`.`RecurringInvoiceName`, `x`.`UpdatedAt`, `x`.`UpdatedBy`
FROM `RecurringInvoices` AS `x`
WHERE `x`.`Id` = @__recurringInvoiceId_0
ORDER BY `x`.`Id`
LIMIT 1"
2018-07-17 07:06:04.859 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__recurringInvoiceId_0='?' (Size = 255)"], CommandType='Text', CommandTimeout='30']"
""SELECT `x.ZohoItems`.`RecurringInvoiceId`, `x.ZohoItems`.`ZohoItemId`, `x.ZohoItems`.`Qty`
FROM `ZohoItemRecurringInvoice` AS `x.ZohoItems`
INNER JOIN (
    SELECT `x0`.`Id`
    FROM `RecurringInvoices` AS `x0`
    WHERE `x0`.`Id` = @__recurringInvoiceId_0
    ORDER BY `x0`.`Id`
    LIMIT 1
) AS `t` ON `x.ZohoItems`.`RecurringInvoiceId` = `t`.`Id`
ORDER BY `t`.`Id`"
2018-07-17 07:06:04.912 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__recurringInvoice_0_Id='?' (Size = 255)"], CommandType='Text', CommandTimeout='30']"
""SELECT `x`.`UserId`, `x`.`CreatedAt`, `x`.`CreatedBy`, `x`.`DeletedAt`, `x`.`DeletedBy`, `x`.`Email`, `x`.`OrganizationId`, `x`.`UpdatedAt`, `x`.`UpdatedBy`, `x`.`ZohoContactUserId`, `x`.`ZohoPrimaryContactId`
FROM `InvoiceContacts` AS `x`
WHERE @__recurringInvoice_0_Id IN (
    SELECT `r`.`Id`
    FROM `RecurringInvoices` AS `r`
    WHERE `x`.`UserId` = `r`.`InvoiceContactUserId`
)
ORDER BY `x`.`UserId`
LIMIT 1"
2018-07-17 07:06:04.928 +00:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__recurringInvoice_0_Id='?' (Size = 255)"], CommandType='Text', CommandTimeout='30']"
""SELECT `x.RecurringInvoices`.`Id`, `x.RecurringInvoices`.`AllTaskCompleted`, `x.RecurringInvoices`.`CreatedAt`, `x.RecurringInvoices`.`CreatedBy`, `x.RecurringInvoices`.`DeletedAt`, `x.RecurringInvoices`.`DeletedBy`, `x.RecurringInvoices`.`InvoiceContactUserId`, `x.RecurringInvoices`.`IsDue`, `x.RecurringInvoices`.`RecurringInvoiceId`, `x.RecurringInvoices`.`RecurringInvoiceName`, `x.RecurringInvoices`.`UpdatedAt`, `x.RecurringInvoices`.`UpdatedBy`
FROM `RecurringInvoices` AS `x.RecurringInvoices`
INNER JOIN (
    SELECT `x0`.`UserId`
    FROM `InvoiceContacts` AS `x0`
    WHERE @__recurringInvoice_0_Id IN (
        SELECT `r0`.`Id`
        FROM `RecurringInvoices` AS `r0`
        WHERE `x0`.`UserId` = `r0`.`InvoiceContactUserId`
    )
    ORDER BY `x0`.`UserId`
    LIMIT 1
) AS `t` ON `x.RecurringInvoices`.`InvoiceContactUserId` = `t`.`UserId`
ORDER BY `t`.`UserId`"
2018-07-17 07:06:04.942 +00:00 [Information] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `x`.`IsEnabled` AS `configured`, `x`.`GatewayName` AS `gateway_name`
FROM `ConfiguredPaymentGateways` AS `x`"
2018-07-17 07:06:04.953 +00:00 [Information] Start processing HTTP request "POST" https://invoice.zoho.com/api/v3/invoices
2018-07-17 07:06:04.959 +00:00 [Information] Sending HTTP request "POST" https://invoice.zoho.com/api/v3/invoices
2018-07-17 07:06:05.744 +00:00 [Information] Received HTTP response after 785.5818ms - Created
2018-07-17 07:06:05.747 +00:00 [Information] End processing HTTP request after 794.0996ms - Created
2018-07-17 07:06:05.766 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (Size = 8000) (DbType = AnsiString), @p8='?' (Size = 8000) (DbType = AnsiString), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `ZohoInvoiceJobQueues` (`Id`, `CreatedAt`, `CreatedBy`, `DeletedAt`, `DeletedBy`, `IsSuccess`, `JobType`, `JsonData`, `LastErrorMessage`, `ReTryCount`, `UpdatedAt`, `UpdatedBy`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);"
2018-07-17 07:06:05.779 +00:00 [Information] Start processing HTTP request "POST" https://invoice.zoho.com/api/v3/invoices/1414691000000095051/email
2018-07-17 07:06:05.782 +00:00 [Information] Sending HTTP request "POST" https://invoice.zoho.com/api/v3/invoices/1414691000000095051/email
2018-07-17 07:06:06.806 +00:00 [Information] Received HTTP response after 1023.9294ms - OK
2018-07-17 07:06:06.811 +00:00 [Information] End processing HTTP request after 1031.3596ms - OK
2018-07-17 07:06:06.826 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@p1='?' (Size = 255), @p0='?' (DbType = Boolean)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `RecurringInvoices` SET `AllTaskCompleted` = @p0
WHERE `Id` = @p1;
SELECT ROW_COUNT();"
2018-07-17 07:06:06.835 +00:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@p2='?' (Size = 255), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `ZohoInvoiceJobQueues` SET `IsSuccess` = @p0, `UpdatedAt` = @p1
WHERE `Id` = @p2;
SELECT ROW_COUNT();"
2018-07-17 07:06:06.849 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@p2='?' (Size = 255), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `ZohoInvoiceJobQueues` SET `IsSuccess` = @p0, `UpdatedAt` = @p1
WHERE `Id` = @p2;
SELECT ROW_COUNT();"
2018-07-17 09:02:08.531 +00:00 [Information] User profile is available. Using '"C:\Users\MichikaP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-07-17 09:02:10.459 +00:00 [Information] Start installing Hangfire SQL objects...
2018-07-17 09:02:10.837 +00:00 [Information] Hangfire SQL objects installed.
2018-07-17 09:03:47.077 +00:00 [Information] User profile is available. Using '"C:\Users\MichikaP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-07-17 09:03:48.923 +00:00 [Information] DB tables already exist. Exit install
2018-07-17 09:03:50.571 +00:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None"
2018-07-17 09:03:50.705 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA=N'dev-tribechimppaymentcore' AND TABLE_NAME=N'__EFMigrationsHistory';"
2018-07-17 09:03:50.744 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA=N'dev-tribechimppaymentcore' AND TABLE_NAME=N'__EFMigrationsHistory';"
2018-07-17 09:03:50.822 +00:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;"
2018-07-17 09:03:50.863 +00:00 [Information] No migrations were applied. The database is already up to date.
2018-07-17 09:03:51.155 +00:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM `ConfiguredPaymentGateways` AS `c`)
    THEN TRUE ELSE FALSE
END"
2018-07-17 09:03:53.580 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/swagger/index.html  
2018-07-17 09:03:53.820 +00:00 [Information] Request finished in 238.8001ms 200 text/html
2018-07-17 09:03:54.696 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/swagger/v1/swagger.json  
2018-07-17 09:03:55.358 +00:00 [Information] Request finished in 663.2382ms 200 application/json;charset=utf-8
2018-07-17 09:04:18.135 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/schedules  
2018-07-17 09:04:18.414 +00:00 [Error] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The transaction associated with this command is not the connection's active transaction; see https://github.com/mysql-net/MySqlConnector/issues/474
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlCommand.cs:line 168
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader(CommandBehavior behavior)
   at Dapper.SqlMapper.ExecuteReaderWithFlagsFallback(IDbCommand cmd, Boolean wasClosed, CommandBehavior behavior)
   at Dapper.SqlMapper.QueryImpl[T](IDbConnection cnn, CommandDefinition command, Type effectiveType)+MoveNext()
   at System.Collections.Generic.List`1.AddEnumerable(IEnumerable`1 enumerable)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Dapper.SqlMapper.Query[T](IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Boolean buffered, Nullable`1 commandTimeout, Nullable`1 commandType)
   at Hangfire.MySql.Core.Monitoring.MySqlMonitoringApi.GetTimelineStats(MySqlConnection connection, IDictionary`2 keyMaps)
   at Hangfire.MySql.Core.Monitoring.MySqlMonitoringApi.GetHourlyTimelineStats(MySqlConnection connection, String type)
   at Hangfire.MySql.Core.MySqlStorage.<>c__DisplayClass20_0`1.<UseTransaction>b__0(MySqlConnection connection)
   at Hangfire.MySql.Core.MySqlStorage.UseConnection[T](Func`2 func)
   at Hangfire.MySql.Core.MySqlStorage.UseTransaction[T](Func`2 func, Nullable`1 isolationLevel)
   at Hangfire.Dashboard.Pages.HomePage.Execute()
   at Hangfire.Dashboard.RazorPage.TransformText(String body)
   at Hangfire.Dashboard.RazorPageDispatcher.Dispatch(DashboardContext context)
   at Hangfire.Dashboard.AspNetCoreDashboardMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)
   at Empite.TribechimpService.PaymentService.Infrastructure.ApplicationBuilderExtension.<>c__DisplayClass12_0.<<ConfigureApplicationPipeline>b__2>d.MoveNext() in C:\Users\MichikaP\Documents\Visual Studio 2017\Projects\Tribechimp-paymentservice\src\Empite.TribechimpService.CoreService\Infrastructure\ApplicationBuilderExtension.cs:line 197
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2018-07-17 09:04:18.543 +00:00 [Information] Request finished in 407.5986ms 500 text/html; charset=utf-8
2018-07-17 09:04:18.928 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/favicon.ico  
2018-07-17 09:04:19.004 +00:00 [Information] Request finished in 78.2317ms 404 
2018-07-17 09:05:55.570 +00:00 [Error] MySql.Data.MySqlClient.MySqlException (0x80004005): Deadlock found when trying to get lock; try restarting transaction ---> MySql.Data.MySqlClient.MySqlException (0x80004005): Deadlock found when trying to get lock; try restarting transaction
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\Core\ResultSet.cs:line 43
   at MySql.Data.MySqlClient.MySqlDataReader.ActivateResultSet(ResultSet resultSet) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 92
   at MySql.Data.MySqlClient.MySqlDataReader.ReadFirstResultSetAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 324
   at MySql.Data.MySqlClient.MySqlDataReader.CreateAsync(MySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 309
   at MySqlConnector.Core.TextCommandExecutor.ExecuteReaderAsync(String commandText, MySqlParameterCollection parameterCollection, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in C:\projects\mysqlconnector\src\MySqlConnector\Core\TextCommandExecutor.cs:line 73
   at MySqlConnector.Core.TextCommandExecutor.ExecuteNonQueryAsync(String commandText, MySqlParameterCollection parameterCollection, IOBehavior ioBehavior, CancellationToken cancellationToken) in C:\projects\mysqlconnector\src\MySqlConnector\Core\TextCommandExecutor.cs:line 26
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteNonQuery() in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlCommand.cs:line 60
   at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader)
   at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command)
   at Dapper.SqlMapper.Execute(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType)
   at Hangfire.MySql.Core.MySqlDistributedLock.AcquireLock(String resource, TimeSpan timeout)
   at Hangfire.MySql.Core.MySqlDistributedLock.Acquire()
   at Hangfire.MySql.Core.ExpirationManager.<>c__DisplayClass10_2.<Execute>b__0(MySqlConnection connection)
2018-07-17 09:06:14.138 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/schedules  
2018-07-17 09:06:14.198 +00:00 [Error] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The transaction associated with this command is not the connection's active transaction; see https://github.com/mysql-net/MySqlConnector/issues/474
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlCommand.cs:line 168
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader(CommandBehavior behavior)
   at Dapper.SqlMapper.ExecuteReaderWithFlagsFallback(IDbCommand cmd, Boolean wasClosed, CommandBehavior behavior)
   at Dapper.SqlMapper.QueryImpl[T](IDbConnection cnn, CommandDefinition command, Type effectiveType)+MoveNext()
   at System.Collections.Generic.List`1.AddEnumerable(IEnumerable`1 enumerable)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Dapper.SqlMapper.Query[T](IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Boolean buffered, Nullable`1 commandTimeout, Nullable`1 commandType)
   at Hangfire.MySql.Core.Monitoring.MySqlMonitoringApi.GetTimelineStats(MySqlConnection connection, IDictionary`2 keyMaps)
   at Hangfire.MySql.Core.Monitoring.MySqlMonitoringApi.GetHourlyTimelineStats(MySqlConnection connection, String type)
   at Hangfire.MySql.Core.MySqlStorage.<>c__DisplayClass20_0`1.<UseTransaction>b__0(MySqlConnection connection)
   at Hangfire.MySql.Core.MySqlStorage.UseConnection[T](Func`2 func)
   at Hangfire.MySql.Core.MySqlStorage.UseTransaction[T](Func`2 func, Nullable`1 isolationLevel)
   at Hangfire.Dashboard.Pages.HomePage.Execute()
   at Hangfire.Dashboard.RazorPage.TransformText(String body)
   at Hangfire.Dashboard.RazorPageDispatcher.Dispatch(DashboardContext context)
   at Hangfire.Dashboard.AspNetCoreDashboardMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)
   at Empite.TribechimpService.PaymentService.Infrastructure.ApplicationBuilderExtension.<>c__DisplayClass12_0.<<ConfigureApplicationPipeline>b__2>d.MoveNext() in C:\Users\MichikaP\Documents\Visual Studio 2017\Projects\Tribechimp-paymentservice\src\Empite.TribechimpService.CoreService\Infrastructure\ApplicationBuilderExtension.cs:line 197
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2018-07-17 09:06:14.255 +00:00 [Information] Request finished in 128.2567ms 500 text/html; charset=utf-8
2018-07-17 09:06:26.602 +00:00 [Error] MySql.Data.MySqlClient.MySqlException (0x80004005): Deadlock found when trying to get lock; try restarting transaction ---> MySql.Data.MySqlClient.MySqlException (0x80004005): Deadlock found when trying to get lock; try restarting transaction
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\Core\ResultSet.cs:line 43
   at MySql.Data.MySqlClient.MySqlDataReader.ActivateResultSet(ResultSet resultSet) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 92
   at MySql.Data.MySqlClient.MySqlDataReader.ReadFirstResultSetAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 324
   at MySql.Data.MySqlClient.MySqlDataReader.CreateAsync(MySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 309
   at MySqlConnector.Core.TextCommandExecutor.ExecuteReaderAsync(String commandText, MySqlParameterCollection parameterCollection, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in C:\projects\mysqlconnector\src\MySqlConnector\Core\TextCommandExecutor.cs:line 73
   at MySqlConnector.Core.TextCommandExecutor.ExecuteNonQueryAsync(String commandText, MySqlParameterCollection parameterCollection, IOBehavior ioBehavior, CancellationToken cancellationToken) in C:\projects\mysqlconnector\src\MySqlConnector\Core\TextCommandExecutor.cs:line 26
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteNonQuery() in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlCommand.cs:line 60
   at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader)
   at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command)
   at Dapper.SqlMapper.Execute(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType)
   at Hangfire.MySql.Core.MySqlDistributedLock.AcquireLock(String resource, TimeSpan timeout)
   at Hangfire.MySql.Core.MySqlDistributedLock.Acquire()
   at Hangfire.MySql.Core.ExpirationManager.<>c__DisplayClass10_2.<Execute>b__0(MySqlConnection connection)
2018-07-17 09:08:35.883 +00:00 [Information] User profile is available. Using '"C:\Users\MichikaP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-07-17 09:08:37.471 +00:00 [Information] DB tables already exist. Exit install
2018-07-17 09:08:38.461 +00:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None"
2018-07-17 09:08:38.523 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA=N'dev-tribechimppaymentcore' AND TABLE_NAME=N'__EFMigrationsHistory';"
2018-07-17 09:08:38.551 +00:00 [Information] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA=N'dev-tribechimppaymentcore' AND TABLE_NAME=N'__EFMigrationsHistory';"
2018-07-17 09:08:38.580 +00:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;"
2018-07-17 09:08:38.620 +00:00 [Information] No migrations were applied. The database is already up to date.
2018-07-17 09:08:38.976 +00:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM `ConfiguredPaymentGateways` AS `c`)
    THEN TRUE ELSE FALSE
END"
2018-07-17 09:08:40.801 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/swagger/index.html  
2018-07-17 09:08:40.956 +00:00 [Information] Request finished in 160.5304ms 200 text/html
2018-07-17 09:08:41.592 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/swagger/v1/swagger.json  
2018-07-17 09:08:42.316 +00:00 [Information] Request finished in 722.4345ms 200 application/json;charset=utf-8
2018-07-17 09:08:48.186 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/schedules  
2018-07-17 09:08:48.391 +00:00 [Error] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The transaction associated with this command is not the connection's active transaction; see https://github.com/mysql-net/MySqlConnector/issues/474
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlCommand.cs:line 168
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader(CommandBehavior behavior)
   at Dapper.SqlMapper.ExecuteReaderWithFlagsFallback(IDbCommand cmd, Boolean wasClosed, CommandBehavior behavior)
   at Dapper.SqlMapper.QueryImpl[T](IDbConnection cnn, CommandDefinition command, Type effectiveType)+MoveNext()
   at System.Collections.Generic.List`1.AddEnumerable(IEnumerable`1 enumerable)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Dapper.SqlMapper.Query[T](IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Boolean buffered, Nullable`1 commandTimeout, Nullable`1 commandType)
   at Hangfire.MySql.Core.Monitoring.MySqlMonitoringApi.GetTimelineStats(MySqlConnection connection, IDictionary`2 keyMaps)
   at Hangfire.MySql.Core.Monitoring.MySqlMonitoringApi.GetHourlyTimelineStats(MySqlConnection connection, String type)
   at Hangfire.MySql.Core.MySqlStorage.<>c__DisplayClass20_0`1.<UseTransaction>b__0(MySqlConnection connection)
   at Hangfire.MySql.Core.MySqlStorage.UseConnection[T](Func`2 func)
   at Hangfire.MySql.Core.MySqlStorage.UseTransaction[T](Func`2 func, Nullable`1 isolationLevel)
   at Hangfire.Dashboard.Pages.HomePage.Execute()
   at Hangfire.Dashboard.RazorPage.TransformText(String body)
   at Hangfire.Dashboard.RazorPageDispatcher.Dispatch(DashboardContext context)
   at Hangfire.Dashboard.AspNetCoreDashboardMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)
   at Empite.TribechimpService.PaymentService.Infrastructure.ApplicationBuilderExtension.<>c__DisplayClass12_0.<<ConfigureApplicationPipeline>b__2>d.MoveNext() in C:\Users\MichikaP\Documents\Visual Studio 2017\Projects\Tribechimp-paymentservice\src\Empite.TribechimpService.CoreService\Infrastructure\ApplicationBuilderExtension.cs:line 197
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2018-07-17 09:08:48.535 +00:00 [Information] Request finished in 344.5198ms 500 text/html; charset=utf-8
2018-07-17 09:09:08.230 +00:00 [Error] MySql.Data.MySqlClient.MySqlException (0x80004005): Deadlock found when trying to get lock; try restarting transaction ---> MySql.Data.MySqlClient.MySqlException (0x80004005): Deadlock found when trying to get lock; try restarting transaction
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\Core\ResultSet.cs:line 43
   at MySql.Data.MySqlClient.MySqlDataReader.ActivateResultSet(ResultSet resultSet) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 92
   at MySql.Data.MySqlClient.MySqlDataReader.ReadFirstResultSetAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 324
   at MySql.Data.MySqlClient.MySqlDataReader.CreateAsync(MySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 309
   at MySqlConnector.Core.TextCommandExecutor.ExecuteReaderAsync(String commandText, MySqlParameterCollection parameterCollection, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in C:\projects\mysqlconnector\src\MySqlConnector\Core\TextCommandExecutor.cs:line 73
   at MySqlConnector.Core.TextCommandExecutor.ExecuteNonQueryAsync(String commandText, MySqlParameterCollection parameterCollection, IOBehavior ioBehavior, CancellationToken cancellationToken) in C:\projects\mysqlconnector\src\MySqlConnector\Core\TextCommandExecutor.cs:line 26
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteNonQuery() in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlCommand.cs:line 60
   at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader)
   at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command)
   at Dapper.SqlMapper.Execute(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType)
   at Hangfire.MySql.Core.MySqlDistributedLock.AcquireLock(String resource, TimeSpan timeout)
   at Hangfire.MySql.Core.MySqlDistributedLock.Acquire()
   at Hangfire.MySql.Core.ExpirationManager.<>c__DisplayClass10_2.<Execute>b__0(MySqlConnection connection)
2018-07-17 09:11:56.613 +00:00 [Information] User profile is available. Using '"C:\Users\MichikaP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-07-17 09:11:58.159 +00:00 [Information] DB tables already exist. Exit install
2018-07-17 09:11:59.030 +00:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None"
2018-07-17 09:11:59.094 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA=N'dev-tribechimppaymentcore' AND TABLE_NAME=N'__EFMigrationsHistory';"
2018-07-17 09:11:59.120 +00:00 [Information] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA=N'dev-tribechimppaymentcore' AND TABLE_NAME=N'__EFMigrationsHistory';"
2018-07-17 09:11:59.151 +00:00 [Information] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;"
2018-07-17 09:11:59.173 +00:00 [Information] No migrations were applied. The database is already up to date.
2018-07-17 09:11:59.303 +00:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM `ConfiguredPaymentGateways` AS `c`)
    THEN TRUE ELSE FALSE
END"
2018-07-17 09:12:01.441 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/swagger/index.html  
2018-07-17 09:12:01.543 +00:00 [Information] Request finished in 120.3686ms 200 text/html
2018-07-17 09:12:02.043 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/swagger/v1/swagger.json  
2018-07-17 09:12:02.567 +00:00 [Information] Request finished in 518.5137ms 200 application/json;charset=utf-8
2018-07-17 09:12:08.928 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/schedules  
2018-07-17 09:12:09.103 +00:00 [Information] Request finished in 177.6734ms 200 text/html
2018-07-17 09:12:09.167 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/schedules/css1619  
2018-07-17 09:12:09.169 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/schedules/js1619  
2018-07-17 09:12:09.240 +00:00 [Information] Request finished in 93.7901ms 200 text/css
2018-07-17 09:12:09.266 +00:00 [Information] Request finished in 102.4659ms 200 application/javascript
2018-07-17 09:12:09.296 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/schedules/fonts/glyphicons-halflings-regular/woff2  
2018-07-17 09:12:09.306 +00:00 [Information] Request finished in 9.1103ms 200 font/woff2
2018-07-17 09:12:11.572 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:12:11.662 +00:00 [Information] Request finished in 85.9944ms 200 application/json
2018-07-17 09:12:12.943 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/schedules/jobs/enqueued  
2018-07-17 09:12:13.016 +00:00 [Information] Request finished in 69.3378ms 200 text/html
2018-07-17 09:12:15.285 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 392
2018-07-17 09:12:15.319 +00:00 [Information] Request finished in 27.2229ms 200 application/json
2018-07-17 09:12:15.367 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/schedules/  
2018-07-17 09:12:15.378 +00:00 [Information] Request finished in 10.1891ms 200 text/html
2018-07-17 09:12:17.563 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:12:17.580 +00:00 [Information] Request finished in 16.5672ms 200 application/json
2018-07-17 09:12:19.563 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:12:19.584 +00:00 [Information] Request finished in 18.8385ms 200 application/json
2018-07-17 09:12:21.561 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:12:21.587 +00:00 [Information] Request finished in 23.6031ms 200 application/json
2018-07-17 09:12:23.562 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:12:23.582 +00:00 [Information] Request finished in 17.8134ms 200 application/json
2018-07-17 09:12:25.564 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:12:25.584 +00:00 [Information] Request finished in 19.2366ms 200 application/json
2018-07-17 09:12:27.564 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:12:27.583 +00:00 [Information] Request finished in 19.7075ms 200 application/json
2018-07-17 09:12:28.585 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/api/invoice/createrecurringinvoice application/json 135
2018-07-17 09:12:28.907 +00:00 [Information] Route matched with "{action = \"CreateRecurringInvoice\", controller = \"Invoice\"}". Executing action "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.CreateRecurringInvoice (Empite.TribechimpService.PaymentService)"
2018-07-17 09:12:29.232 +00:00 [Information] Executing action method "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.CreateRecurringInvoice (Empite.TribechimpService.PaymentService)" with arguments (["Empite.TribechimpService.PaymentService.Domain.Dto.CreateRecurringInvoiceDto"]) - Validation state: Valid
2018-07-17 09:12:33.954 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:12:35.650 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:12:37.118 +00:00 [Information] Request finished in 2972.3562ms 200 application/json
2018-07-17 09:12:37.202 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:12:37.207 +00:00 [Information] Request finished in 3175.26ms 200 application/json
2018-07-17 09:12:37.235 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:12:39.994 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:12:40.040 +00:00 [Information] Request finished in 2832.1929ms 200 application/json
2018-07-17 09:12:40.122 +00:00 [Information] Request finished in 141.5111ms 200 application/json
2018-07-17 09:12:40.040 +00:00 [Information] Request finished in 2773.6597ms 200 application/json
2018-07-17 09:12:41.952 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:12:43.660 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:12:44.436 +00:00 [Information] Request finished in 2480.5728ms 200 application/json
2018-07-17 09:12:44.389 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:12:49.356 +00:00 [Information] Request finished in 5685.356ms 200 application/json
2018-07-17 09:12:49.503 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:12:47.738 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:12:49.818 +00:00 [Information] Request finished in 6014.8129ms 200 application/json
2018-07-17 09:12:49.957 +00:00 [Information] Request finished in 297.9292ms 200 application/json
2018-07-17 09:12:49.954 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:12:49.965 +00:00 [Information] Request finished in 2018.8208ms 200 application/json
2018-07-17 09:12:50.248 +00:00 [Information] Request finished in 502.7824ms 200 application/json
2018-07-17 09:12:52.150 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:12:52.355 +00:00 [Information] Request finished in 149.1485ms 200 application/json
2018-07-17 09:12:54.924 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:12:54.993 +00:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None"
2018-07-17 09:12:55.006 +00:00 [Information] Request finished in 57.5678ms 200 application/json
2018-07-17 09:12:56.822 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:12:56.914 +00:00 [Information] Request finished in 54.9149ms 200 application/json
2018-07-17 09:12:57.106 +00:00 [Information] Executed DbCommand ("14"ms) [Parameters=["@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (Size = 8000) (DbType = AnsiString), @p8='?' (Size = 8000) (DbType = AnsiString), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `ZohoInvoiceJobQueues` (`Id`, `CreatedAt`, `CreatedBy`, `DeletedAt`, `DeletedBy`, `IsSuccess`, `JobType`, `JsonData`, `LastErrorMessage`, `ReTryCount`, `UpdatedAt`, `UpdatedBy`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);"
2018-07-17 09:12:58.955 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:12:58.971 +00:00 [Information] Executed action method "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.CreateRecurringInvoice (Empite.TribechimpService.PaymentService)", returned result "Microsoft.AspNetCore.Mvc.OkResult" in 29690.3181ms.
2018-07-17 09:12:58.990 +00:00 [Information] Request finished in 39.8828ms 200 application/json
2018-07-17 09:12:59.005 +00:00 [Information] Executing HttpStatusCodeResult, setting HTTP status code 200
2018-07-17 09:12:59.036 +00:00 [Information] Executed action "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.CreateRecurringInvoice (Empite.TribechimpService.PaymentService)" in 30109.4629ms
2018-07-17 09:12:59.054 +00:00 [Information] Request finished in 30463.7467ms 200 
2018-07-17 09:12:59.568 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:12:59.593 +00:00 [Information] Request finished in 25.3267ms 200 application/json
2018-07-17 09:13:01.564 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:13:01.583 +00:00 [Information] Request finished in 19.3784ms 200 application/json
2018-07-17 09:13:03.564 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:13:03.587 +00:00 [Information] Request finished in 21.1067ms 200 application/json
2018-07-17 09:13:05.562 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:13:05.583 +00:00 [Information] Request finished in 16.7902ms 200 application/json
2018-07-17 09:13:07.565 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:13:07.584 +00:00 [Information] Request finished in 19.3377ms 200 application/json
2018-07-17 09:13:09.564 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:13:09.583 +00:00 [Information] Request finished in 20.5394ms 200 application/json
2018-07-17 09:13:11.560 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:13:11.583 +00:00 [Information] Request finished in 17.7587ms 200 application/json
2018-07-17 09:13:13.562 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:13:13.582 +00:00 [Information] Request finished in 19.2108ms 200 application/json
2018-07-17 09:13:15.564 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:13:15.588 +00:00 [Information] Request finished in 26.2635ms 200 application/json
2018-07-17 09:13:17.581 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:13:17.674 +00:00 [Information] Request finished in 79.9951ms 200 application/json
2018-07-17 09:13:19.573 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:13:19.606 +00:00 [Information] Request finished in 36.7901ms 200 application/json
2018-07-17 09:13:21.567 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:13:21.815 +00:00 [Information] Request finished in 243.2384ms 200 application/json
2018-07-17 09:13:23.571 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:13:23.595 +00:00 [Information] Request finished in 22.8415ms 200 application/json
2018-07-17 09:13:25.568 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:13:25.588 +00:00 [Information] Request finished in 19.9445ms 200 application/json
2018-07-17 09:13:27.575 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:13:27.595 +00:00 [Information] Request finished in 18.316ms 200 application/json
2018-07-17 09:13:29.752 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:13:29.782 +00:00 [Information] Request finished in 26.4162ms 200 application/json
2018-07-17 09:13:30.849 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/swagger/index.html  
2018-07-17 09:13:30.870 +00:00 [Information] Request finished in 33.1681ms 200 text/html
2018-07-17 09:13:31.573 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/swagger/v1/swagger.json  
2018-07-17 09:13:31.588 +00:00 [Information] Request finished in 14.3436ms 200 application/json;charset=utf-8
2018-07-17 09:13:31.714 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:13:31.738 +00:00 [Information] Request finished in 27.2223ms 200 application/json
2018-07-17 09:13:33.688 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:13:33.721 +00:00 [Information] Request finished in 32.6889ms 200 application/json
2018-07-17 09:13:35.692 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:13:35.722 +00:00 [Information] Request finished in 29.8603ms 200 application/json
2018-07-17 09:13:35.883 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/api/invoice/runjobs  
2018-07-17 09:13:35.932 +00:00 [Information] Route matched with "{action = \"RunJobs\", controller = \"Invoice\"}". Executing action "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.RunJobs (Empite.TribechimpService.PaymentService)"
2018-07-17 09:13:35.956 +00:00 [Information] Executing action method "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.RunJobs (Empite.TribechimpService.PaymentService)" - Validation state: Valid
2018-07-17 09:13:40.321 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:13:40.323 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:13:40.331 +00:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None"
2018-07-17 09:13:40.358 +00:00 [Information] Request finished in 37.0482ms 200 application/json
2018-07-17 09:13:40.361 +00:00 [Information] Request finished in 38.2207ms 200 application/json
2018-07-17 09:13:40.432 +00:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ZohoInvoiceJobQueues` AS `x`
WHERE `x`.`IsSuccess` = FALSE"
2018-07-17 09:13:40.483 +00:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `x`.`Id`, `x`.`CreatedAt`, `x`.`CreatedBy`, `x`.`DeletedAt`, `x`.`DeletedBy`, `x`.`IsSuccess`, `x`.`JobType`, `x`.`JsonData`, `x`.`LastErrorMessage`, `x`.`ReTryCount`, `x`.`UpdatedAt`, `x`.`UpdatedBy`
FROM `ZohoInvoiceJobQueues` AS `x`
WHERE `x`.`IsSuccess` = FALSE
ORDER BY `x`.`CreatedAt`
LIMIT @__p_1 OFFSET @__p_0"
2018-07-17 09:13:40.515 +00:00 [Information] Executed action method "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.RunJobs (Empite.TribechimpService.PaymentService)", returned result "Microsoft.AspNetCore.Mvc.OkResult" in 4555.2326ms.
2018-07-17 09:13:40.521 +00:00 [Information] Executing HttpStatusCodeResult, setting HTTP status code 200
2018-07-17 09:13:40.526 +00:00 [Information] Executed action "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.RunJobs (Empite.TribechimpService.PaymentService)" in 4587.349ms
2018-07-17 09:13:40.542 +00:00 [Information] Request finished in 4658.96ms 200 
2018-07-17 09:13:42.401 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:13:42.423 +00:00 [Information] Request finished in 19.4372ms 200 application/json
2018-07-17 09:13:43.690 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:13:43.724 +00:00 [Information] Request finished in 34.2122ms 200 application/json
2018-07-17 09:13:43.860 +00:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__recurringInfo_UserId_0='?' (Size = 255)"], CommandType='Text', CommandTimeout='30']"
""SELECT `x`.`UserId`, `x`.`CreatedAt`, `x`.`CreatedBy`, `x`.`DeletedAt`, `x`.`DeletedBy`, `x`.`Email`, `x`.`OrganizationId`, `x`.`UpdatedAt`, `x`.`UpdatedBy`, `x`.`ZohoContactUserId`, `x`.`ZohoPrimaryContactId`
FROM `InvoiceContacts` AS `x`
WHERE `x`.`UserId` = @__recurringInfo_UserId_0
ORDER BY `x`.`UserId`
LIMIT 1"
2018-07-17 09:13:43.906 +00:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__recurringInfo_UserId_0='?' (Size = 255)"], CommandType='Text', CommandTimeout='30']"
""SELECT `x.RecurringInvoices`.`Id`, `x.RecurringInvoices`.`AllTaskCompleted`, `x.RecurringInvoices`.`CreatedAt`, `x.RecurringInvoices`.`CreatedBy`, `x.RecurringInvoices`.`DeletedAt`, `x.RecurringInvoices`.`DeletedBy`, `x.RecurringInvoices`.`InvoiceContactUserId`, `x.RecurringInvoices`.`IsDue`, `x.RecurringInvoices`.`RecurringInvoiceId`, `x.RecurringInvoices`.`RecurringInvoiceName`, `x.RecurringInvoices`.`UpdatedAt`, `x.RecurringInvoices`.`UpdatedBy`
FROM `RecurringInvoices` AS `x.RecurringInvoices`
INNER JOIN (
    SELECT `x0`.`UserId`
    FROM `InvoiceContacts` AS `x0`
    WHERE `x0`.`UserId` = @__recurringInfo_UserId_0
    ORDER BY `x0`.`UserId`
    LIMIT 1
) AS `t` ON `x.RecurringInvoices`.`InvoiceContactUserId` = `t`.`UserId`
ORDER BY `t`.`UserId`"
2018-07-17 09:13:44.030 +00:00 [Information] Executed DbCommand ("19"ms) [Parameters=["@__itemId_ItemId_0='?' (Size = 255)"], CommandType='Text', CommandTimeout='30']"
""SELECT `y`.`Id`, `y`.`CreatedAt`, `y`.`CreatedBy`, `y`.`DeletedAt`, `y`.`DeletedBy`, `y`.`Description`, `y`.`Name`, `y`.`Rate`, `y`.`UpdatedAt`, `y`.`UpdatedBy`, `y`.`ZohoItemId`
FROM `ZohoItems` AS `y`
WHERE `y`.`Id` = @__itemId_ItemId_0
LIMIT 1"
2018-07-17 09:13:44.138 +00:00 [Information] Executed DbCommand ("37"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `x`.`IsEnabled` AS `configured`, `x`.`GatewayName` AS `gateway_name`
FROM `ConfiguredPaymentGateways` AS `x`"
2018-07-17 09:13:44.172 +00:00 [Information] Start processing HTTP request "POST" https://invoice.zoho.com/api/v3/recurringinvoices
2018-07-17 09:13:44.178 +00:00 [Information] Sending HTTP request "POST" https://invoice.zoho.com/api/v3/recurringinvoices
2018-07-17 09:13:45.700 +00:00 [Information] Received HTTP response after 1514.1549ms - Created
2018-07-17 09:13:45.708 +00:00 [Information] End processing HTTP request after 1538.6423ms - Created
2018-07-17 09:13:45.727 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:13:45.753 +00:00 [Information] Request finished in 28.7503ms 200 application/json
2018-07-17 09:13:45.949 +00:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@p0='?' (Size = 255), @p1='?' (DbType = Boolean), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = DateTime), @p5='?' (DbType = Guid), @p6='?' (Size = 255), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = DateTime), @p11='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `RecurringInvoices` (`Id`, `AllTaskCompleted`, `CreatedAt`, `CreatedBy`, `DeletedAt`, `DeletedBy`, `InvoiceContactUserId`, `IsDue`, `RecurringInvoiceId`, `RecurringInvoiceName`, `UpdatedAt`, `UpdatedBy`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);"
2018-07-17 09:13:45.987 +00:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@p12='?' (Size = 255), @p13='?' (Size = 255), @p14='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `ZohoItemRecurringInvoice` (`RecurringInvoiceId`, `ZohoItemId`, `Qty`)
VALUES (@p12, @p13, @p14);"
2018-07-17 09:13:46.063 +00:00 [Information] Executed DbCommand ("12"ms) [Parameters=["@p1='?' (Size = 255), @p0='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `ZohoInvoiceJobQueues` SET `UpdatedAt` = @p0
WHERE `Id` = @p1;
SELECT ROW_COUNT();"
2018-07-17 09:13:46.075 +00:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (Size = 8000) (DbType = AnsiString), @p8='?' (Size = 8000) (DbType = AnsiString), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `ZohoInvoiceJobQueues` (`Id`, `CreatedAt`, `CreatedBy`, `DeletedAt`, `DeletedBy`, `IsSuccess`, `JobType`, `JsonData`, `LastErrorMessage`, `ReTryCount`, `UpdatedAt`, `UpdatedBy`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);"
2018-07-17 09:13:46.107 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@p1='?' (Size = 255), @p0='?' (DbType = Boolean)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `ZohoInvoiceJobQueues` SET `IsSuccess` = @p0
WHERE `Id` = @p1;
SELECT ROW_COUNT();"
2018-07-17 09:13:46.154 +00:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@__recurringInvoiceId_0='?' (Size = 255)"], CommandType='Text', CommandTimeout='30']"
""SELECT `x`.`Id`, `x`.`AllTaskCompleted`, `x`.`CreatedAt`, `x`.`CreatedBy`, `x`.`DeletedAt`, `x`.`DeletedBy`, `x`.`InvoiceContactUserId`, `x`.`IsDue`, `x`.`RecurringInvoiceId`, `x`.`RecurringInvoiceName`, `x`.`UpdatedAt`, `x`.`UpdatedBy`
FROM `RecurringInvoices` AS `x`
WHERE `x`.`Id` = @__recurringInvoiceId_0
ORDER BY `x`.`Id`
LIMIT 1"
2018-07-17 09:13:46.168 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__recurringInvoiceId_0='?' (Size = 255)"], CommandType='Text', CommandTimeout='30']"
""SELECT `x.ZohoItems`.`RecurringInvoiceId`, `x.ZohoItems`.`ZohoItemId`, `x.ZohoItems`.`Qty`
FROM `ZohoItemRecurringInvoice` AS `x.ZohoItems`
INNER JOIN (
    SELECT `x0`.`Id`
    FROM `RecurringInvoices` AS `x0`
    WHERE `x0`.`Id` = @__recurringInvoiceId_0
    ORDER BY `x0`.`Id`
    LIMIT 1
) AS `t` ON `x.ZohoItems`.`RecurringInvoiceId` = `t`.`Id`
ORDER BY `t`.`Id`"
2018-07-17 09:13:46.214 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__recurringInvoice_0_Id='?' (Size = 255)"], CommandType='Text', CommandTimeout='30']"
""SELECT `x`.`UserId`, `x`.`CreatedAt`, `x`.`CreatedBy`, `x`.`DeletedAt`, `x`.`DeletedBy`, `x`.`Email`, `x`.`OrganizationId`, `x`.`UpdatedAt`, `x`.`UpdatedBy`, `x`.`ZohoContactUserId`, `x`.`ZohoPrimaryContactId`
FROM `InvoiceContacts` AS `x`
WHERE @__recurringInvoice_0_Id IN (
    SELECT `r`.`Id`
    FROM `RecurringInvoices` AS `r`
    WHERE `x`.`UserId` = `r`.`InvoiceContactUserId`
)
ORDER BY `x`.`UserId`
LIMIT 1"
2018-07-17 09:13:46.230 +00:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@__recurringInvoice_0_Id='?' (Size = 255)"], CommandType='Text', CommandTimeout='30']"
""SELECT `x.RecurringInvoices`.`Id`, `x.RecurringInvoices`.`AllTaskCompleted`, `x.RecurringInvoices`.`CreatedAt`, `x.RecurringInvoices`.`CreatedBy`, `x.RecurringInvoices`.`DeletedAt`, `x.RecurringInvoices`.`DeletedBy`, `x.RecurringInvoices`.`InvoiceContactUserId`, `x.RecurringInvoices`.`IsDue`, `x.RecurringInvoices`.`RecurringInvoiceId`, `x.RecurringInvoices`.`RecurringInvoiceName`, `x.RecurringInvoices`.`UpdatedAt`, `x.RecurringInvoices`.`UpdatedBy`
FROM `RecurringInvoices` AS `x.RecurringInvoices`
INNER JOIN (
    SELECT `x0`.`UserId`
    FROM `InvoiceContacts` AS `x0`
    WHERE @__recurringInvoice_0_Id IN (
        SELECT `r0`.`Id`
        FROM `RecurringInvoices` AS `r0`
        WHERE `x0`.`UserId` = `r0`.`InvoiceContactUserId`
    )
    ORDER BY `x0`.`UserId`
    LIMIT 1
) AS `t` ON `x.RecurringInvoices`.`InvoiceContactUserId` = `t`.`UserId`
ORDER BY `t`.`UserId`"
2018-07-17 09:13:46.257 +00:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `x`.`IsEnabled` AS `configured`, `x`.`GatewayName` AS `gateway_name`
FROM `ConfiguredPaymentGateways` AS `x`"
2018-07-17 09:13:46.272 +00:00 [Information] Start processing HTTP request "POST" https://invoice.zoho.com/api/v3/invoices
2018-07-17 09:13:46.276 +00:00 [Information] Sending HTTP request "POST" https://invoice.zoho.com/api/v3/invoices
2018-07-17 09:13:46.986 +00:00 [Information] Received HTTP response after 711.214ms - Created
2018-07-17 09:13:46.990 +00:00 [Information] End processing HTTP request after 719.2093ms - Created
2018-07-17 09:13:47.010 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (Size = 8000) (DbType = AnsiString), @p8='?' (Size = 8000) (DbType = AnsiString), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `ZohoInvoiceJobQueues` (`Id`, `CreatedAt`, `CreatedBy`, `DeletedAt`, `DeletedBy`, `IsSuccess`, `JobType`, `JsonData`, `LastErrorMessage`, `ReTryCount`, `UpdatedAt`, `UpdatedBy`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);"
2018-07-17 09:13:47.031 +00:00 [Information] Start processing HTTP request "POST" https://invoice.zoho.com/api/v3/invoices/1414691000000097011/email
2018-07-17 09:13:47.036 +00:00 [Information] Sending HTTP request "POST" https://invoice.zoho.com/api/v3/invoices/1414691000000097011/email
2018-07-17 09:13:47.685 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:13:47.705 +00:00 [Information] Request finished in 18.1835ms 200 application/json
2018-07-17 09:13:47.915 +00:00 [Information] Received HTTP response after 876.882ms - OK
2018-07-17 09:13:47.922 +00:00 [Information] End processing HTTP request after 892.1499ms - OK
2018-07-17 09:13:47.935 +00:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@p1='?' (Size = 255), @p0='?' (DbType = Boolean)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `RecurringInvoices` SET `AllTaskCompleted` = @p0
WHERE `Id` = @p1;
SELECT ROW_COUNT();"
2018-07-17 09:13:47.943 +00:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@p2='?' (Size = 255), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `ZohoInvoiceJobQueues` SET `IsSuccess` = @p0, `UpdatedAt` = @p1
WHERE `Id` = @p2;
SELECT ROW_COUNT();"
2018-07-17 09:13:47.959 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@p2='?' (Size = 255), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `ZohoInvoiceJobQueues` SET `IsSuccess` = @p0, `UpdatedAt` = @p1
WHERE `Id` = @p2;
SELECT ROW_COUNT();"
2018-07-17 09:13:49.683 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:13:49.701 +00:00 [Information] Request finished in 16.5349ms 200 application/json
2018-07-17 09:13:51.688 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:13:51.706 +00:00 [Information] Request finished in 17.7895ms 200 application/json
2018-07-17 09:13:53.683 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:13:53.700 +00:00 [Information] Request finished in 17.0443ms 200 application/json
2018-07-17 09:13:55.702 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:13:55.719 +00:00 [Information] Request finished in 29.0401ms 200 application/json
2018-07-17 09:13:57.686 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:13:57.705 +00:00 [Information] Request finished in 18.4463ms 200 application/json
2018-07-17 09:13:59.685 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:13:59.700 +00:00 [Information] Request finished in 13.776ms 200 application/json
2018-07-17 09:14:00.512 +00:00 [Error] MySql.Data.MySqlClient.MySqlException (0x80004005): Deadlock found when trying to get lock; try restarting transaction ---> MySql.Data.MySqlClient.MySqlException (0x80004005): Deadlock found when trying to get lock; try restarting transaction
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\Core\ResultSet.cs:line 43
   at MySql.Data.MySqlClient.MySqlDataReader.ActivateResultSet(ResultSet resultSet) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 92
   at MySql.Data.MySqlClient.MySqlDataReader.ReadFirstResultSetAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 324
   at MySql.Data.MySqlClient.MySqlDataReader.CreateAsync(MySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 309
   at MySqlConnector.Core.TextCommandExecutor.ExecuteReaderAsync(String commandText, MySqlParameterCollection parameterCollection, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in C:\projects\mysqlconnector\src\MySqlConnector\Core\TextCommandExecutor.cs:line 73
   at MySqlConnector.Core.TextCommandExecutor.ExecuteNonQueryAsync(String commandText, MySqlParameterCollection parameterCollection, IOBehavior ioBehavior, CancellationToken cancellationToken) in C:\projects\mysqlconnector\src\MySqlConnector\Core\TextCommandExecutor.cs:line 26
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteNonQuery() in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlCommand.cs:line 60
   at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader)
   at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command)
   at Dapper.SqlMapper.Execute(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType)
   at Hangfire.MySql.Core.MySqlDistributedLock.AcquireLock(String resource, TimeSpan timeout)
   at Hangfire.MySql.Core.MySqlDistributedLock.Acquire()
   at Hangfire.MySql.Core.ExpirationManager.<>c__DisplayClass10_2.<Execute>b__0(MySqlConnection connection)
2018-07-17 09:14:01.686 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:14:01.704 +00:00 [Information] Request finished in 17.9027ms 200 application/json
2018-07-17 09:14:03.686 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:14:03.707 +00:00 [Information] Request finished in 21.4258ms 200 application/json
2018-07-17 09:14:05.712 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:14:05.734 +00:00 [Information] Request finished in 27.1881ms 200 application/json
2018-07-17 09:14:08.044 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:14:08.121 +00:00 [Information] Request finished in 66.8289ms 200 application/json
2018-07-17 09:14:09.690 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:14:09.715 +00:00 [Information] Request finished in 24.6179ms 200 application/json
2018-07-17 09:14:11.699 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:14:11.721 +00:00 [Information] Request finished in 21.7928ms 200 application/json
2018-07-17 09:14:13.685 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:14:13.706 +00:00 [Information] Request finished in 21.2124ms 200 application/json
2018-07-17 09:14:15.690 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:14:15.702 +00:00 [Information] Request finished in 12.3705ms 200 application/json
2018-07-17 09:14:17.691 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:14:17.708 +00:00 [Information] Request finished in 16.9277ms 200 application/json
2018-07-17 09:14:19.683 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:14:19.700 +00:00 [Information] Request finished in 16.455ms 200 application/json
2018-07-17 09:14:21.685 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:14:21.703 +00:00 [Information] Request finished in 18.0268ms 200 application/json
2018-07-17 09:14:23.686 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:14:23.707 +00:00 [Information] Request finished in 21.0625ms 200 application/json
2018-07-17 09:14:25.684 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:14:25.703 +00:00 [Information] Request finished in 17.9882ms 200 application/json
2018-07-17 09:14:27.685 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:14:27.705 +00:00 [Information] Request finished in 19.8058ms 200 application/json
2018-07-17 09:14:29.850 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:14:29.883 +00:00 [Information] Request finished in 35.9034ms 200 application/json
2018-07-17 09:14:31.686 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:14:31.706 +00:00 [Information] Request finished in 21.7104ms 200 application/json
2018-07-17 09:14:33.687 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:14:33.709 +00:00 [Information] Request finished in 19.9721ms 200 application/json
2018-07-17 09:14:35.687 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:14:35.706 +00:00 [Information] Request finished in 19.0006ms 200 application/json
2018-07-17 09:14:37.688 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:14:37.709 +00:00 [Information] Request finished in 19.9896ms 200 application/json
2018-07-17 09:14:39.686 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:14:39.703 +00:00 [Information] Request finished in 17.0101ms 200 application/json
2018-07-17 09:14:41.689 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:14:41.712 +00:00 [Information] Request finished in 21.1275ms 200 application/json
2018-07-17 09:14:43.684 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:14:43.884 +00:00 [Information] Request finished in 202.2562ms 200 application/json
2018-07-17 09:14:45.686 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:14:45.704 +00:00 [Information] Request finished in 18.7381ms 200 application/json
2018-07-17 09:14:47.687 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:14:47.705 +00:00 [Information] Request finished in 17.973ms 200 application/json
2018-07-17 09:14:49.685 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:14:49.704 +00:00 [Information] Request finished in 19.0267ms 200 application/json
2018-07-17 09:14:51.870 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:14:51.903 +00:00 [Information] Request finished in 30.5277ms 200 application/json
2018-07-17 09:14:53.686 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:14:53.703 +00:00 [Information] Request finished in 17.0776ms 200 application/json
2018-07-17 09:14:55.688 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:14:55.713 +00:00 [Information] Request finished in 23.5552ms 200 application/json
2018-07-17 09:14:57.682 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:14:57.702 +00:00 [Information] Request finished in 19.9071ms 200 application/json
2018-07-17 09:14:59.685 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:14:59.699 +00:00 [Information] Request finished in 14.2555ms 200 application/json
2018-07-17 09:15:00.536 +00:00 [Error] MySql.Data.MySqlClient.MySqlException (0x80004005): Deadlock found when trying to get lock; try restarting transaction ---> MySql.Data.MySqlClient.MySqlException (0x80004005): Deadlock found when trying to get lock; try restarting transaction
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\Core\ResultSet.cs:line 43
   at MySql.Data.MySqlClient.MySqlDataReader.ActivateResultSet(ResultSet resultSet) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 92
   at MySql.Data.MySqlClient.MySqlDataReader.ReadFirstResultSetAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 324
   at MySql.Data.MySqlClient.MySqlDataReader.CreateAsync(MySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 309
   at MySqlConnector.Core.TextCommandExecutor.ExecuteReaderAsync(String commandText, MySqlParameterCollection parameterCollection, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in C:\projects\mysqlconnector\src\MySqlConnector\Core\TextCommandExecutor.cs:line 73
   at MySqlConnector.Core.TextCommandExecutor.ExecuteNonQueryAsync(String commandText, MySqlParameterCollection parameterCollection, IOBehavior ioBehavior, CancellationToken cancellationToken) in C:\projects\mysqlconnector\src\MySqlConnector\Core\TextCommandExecutor.cs:line 26
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteNonQuery() in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlCommand.cs:line 60
   at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader)
   at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command)
   at Dapper.SqlMapper.Execute(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType)
   at Hangfire.MySql.Core.MySqlDistributedLock.AcquireLock(String resource, TimeSpan timeout)
   at Hangfire.MySql.Core.MySqlDistributedLock.Acquire()
   at Hangfire.MySql.Core.ExpirationManager.<>c__DisplayClass10_2.<Execute>b__0(MySqlConnection connection)
2018-07-17 09:15:01.685 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:15:01.703 +00:00 [Information] Request finished in 17.118ms 200 application/json
2018-07-17 09:15:03.692 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:15:03.709 +00:00 [Information] Request finished in 18.3005ms 200 application/json
2018-07-17 09:15:05.686 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:15:05.706 +00:00 [Information] Request finished in 19.6453ms 200 application/json
2018-07-17 09:15:07.683 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:15:07.701 +00:00 [Information] Request finished in 17.0235ms 200 application/json
2018-07-17 09:15:09.684 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:15:09.700 +00:00 [Information] Request finished in 15.5073ms 200 application/json
2018-07-17 09:15:11.720 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:15:11.764 +00:00 [Information] Request finished in 41.2244ms 200 application/json
2018-07-17 09:15:13.684 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:15:13.704 +00:00 [Information] Request finished in 18.0439ms 200 application/json
2018-07-17 09:15:15.684 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:15:15.699 +00:00 [Information] Request finished in 14.7662ms 200 application/json
2018-07-17 09:15:17.719 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:15:17.736 +00:00 [Information] Request finished in 16.7893ms 200 application/json
2018-07-17 09:15:19.683 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:15:20.738 +00:00 [Information] Request finished in 1054.9345ms 200 application/json
2018-07-17 09:15:21.688 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:15:21.701 +00:00 [Information] Request finished in 12.8507ms 200 application/json
2018-07-17 09:15:23.686 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:15:23.704 +00:00 [Information] Request finished in 18.1985ms 200 application/json
2018-07-17 09:15:25.684 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:15:25.715 +00:00 [Information] Request finished in 31.3839ms 200 application/json
2018-07-17 09:15:27.690 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:15:27.710 +00:00 [Information] Request finished in 19.7855ms 200 application/json
2018-07-17 09:15:29.685 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:15:29.700 +00:00 [Information] Request finished in 15.0153ms 200 application/json
2018-07-17 09:32:54.141 +00:00 [Information] User profile is available. Using '"C:\Users\MichikaP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-07-17 09:32:55.085 +00:00 [Information] DB tables already exist. Exit install
2018-07-17 09:44:56.713 +00:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None"
2018-07-17 09:45:36.372 +00:00 [Information] User profile is available. Using '"C:\Users\MichikaP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-07-17 09:45:37.515 +00:00 [Information] DB tables already exist. Exit install
2018-07-17 09:45:38.507 +00:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None"
2018-07-17 09:45:38.785 +00:00 [Information] Executed DbCommand ("37"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE DATABASE `dev-tribechimppaymentcore`;"
2018-07-17 09:45:39.047 +00:00 [Information] Executed DbCommand ("102"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE `__EFMigrationsHistory` (
    `MigrationId` varchar(95) NOT NULL,
    `ProductVersion` varchar(32) NOT NULL,
    CONSTRAINT `PK___EFMigrationsHistory` PRIMARY KEY (`MigrationId`)
);"
2018-07-17 09:45:39.058 +00:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='dev-tribechimppaymentcore' AND TABLE_NAME='__EFMigrationsHistory';"
2018-07-17 09:45:39.070 +00:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;"
2018-07-17 09:45:39.087 +00:00 [Information] Applying migration '"20180717094456_initial"'.
2018-07-17 09:45:39.367 +00:00 [Information] Executed DbCommand ("215"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE `ConfiguredPaymentGateways` (
    `Id` varchar(255) NOT NULL,
    `GatewayName` longtext NULL,
    `IsEnabled` bit NOT NULL,
    CONSTRAINT `PK_ConfiguredPaymentGateways` PRIMARY KEY (`Id`)
);"
2018-07-17 09:45:39.449 +00:00 [Information] Executed DbCommand ("74"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE `InvoiceContacts` (
    `CreatedAt` datetime(6) NOT NULL,
    `CreatedBy` char(36) NULL,
    `UpdatedAt` datetime(6) NULL,
    `UpdatedBy` char(36) NULL,
    `DeletedAt` datetime(6) NULL,
    `DeletedBy` char(36) NULL,
    `OrganizationId` longtext NULL,
    `UserId` varchar(255) NOT NULL,
    `ZohoContactUserId` varchar(255) NULL,
    `ZohoPrimaryContactId` longtext NULL,
    `Email` longtext NULL,
    CONSTRAINT `PK_InvoiceContacts` PRIMARY KEY (`UserId`)
);"
2018-07-17 09:45:39.515 +00:00 [Information] Executed DbCommand ("59"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE `ZohoInvoiceJobQueues` (
    `CreatedAt` datetime(6) NOT NULL,
    `CreatedBy` char(36) NULL,
    `UpdatedAt` datetime(6) NULL,
    `UpdatedBy` char(36) NULL,
    `DeletedAt` datetime(6) NULL,
    `DeletedBy` char(36) NULL,
    `Id` varchar(255) NOT NULL,
    `JsonData` longtext NULL,
    `JobType` int NOT NULL,
    `IsSuccess` bit NOT NULL,
    `ReTryCount` int NOT NULL,
    `LastErrorMessage` longtext NULL,
    CONSTRAINT `PK_ZohoInvoiceJobQueues` PRIMARY KEY (`Id`)
);"
2018-07-17 09:45:39.589 +00:00 [Information] Executed DbCommand ("67"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE `ZohoItems` (
    `CreatedAt` datetime(6) NOT NULL,
    `CreatedBy` char(36) NULL,
    `UpdatedAt` datetime(6) NULL,
    `UpdatedBy` char(36) NULL,
    `DeletedAt` datetime(6) NULL,
    `DeletedBy` char(36) NULL,
    `Id` varchar(255) NOT NULL,
    `Name` longtext NULL,
    `Description` longtext NULL,
    `Rate` double NOT NULL,
    `ZohoItemId` varchar(255) NULL,
    CONSTRAINT `PK_ZohoItems` PRIMARY KEY (`Id`)
);"
2018-07-17 09:45:39.655 +00:00 [Information] Executed DbCommand ("59"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE `RecurringInvoices` (
    `CreatedAt` datetime(6) NOT NULL,
    `CreatedBy` char(36) NULL,
    `UpdatedAt` datetime(6) NULL,
    `UpdatedBy` char(36) NULL,
    `DeletedAt` datetime(6) NULL,
    `DeletedBy` char(36) NULL,
    `Id` varchar(255) NOT NULL,
    `RecurringInvoiceId` longtext NULL,
    `RecurringInvoiceName` longtext NULL,
    `InvoiceContactUserId` varchar(255) NULL,
    `IsDue` bit NOT NULL,
    `AllTaskCompleted` bit NOT NULL,
    CONSTRAINT `PK_RecurringInvoices` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_RecurringInvoices_InvoiceContacts_InvoiceContactUserId` FOREIGN KEY (`InvoiceContactUserId`) REFERENCES `InvoiceContacts` (`UserId`) ON DELETE NO ACTION
);"
2018-07-17 09:45:39.858 +00:00 [Information] Executed DbCommand ("189"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE `ZohoItemRecurringInvoice` (
    `RecurringInvoiceId` varchar(255) NOT NULL,
    `ZohoItemId` varchar(255) NOT NULL,
    `Qty` int NOT NULL,
    CONSTRAINT `PK_ZohoItemRecurringInvoice` PRIMARY KEY (`RecurringInvoiceId`, `ZohoItemId`),
    CONSTRAINT `FK_ZohoItemRecurringInvoice_RecurringInvoices_RecurringInvoiceId` FOREIGN KEY (`RecurringInvoiceId`) REFERENCES `RecurringInvoices` (`Id`) ON DELETE CASCADE,
    CONSTRAINT `FK_ZohoItemRecurringInvoice_ZohoItems_ZohoItemId` FOREIGN KEY (`ZohoItemId`) REFERENCES `ZohoItems` (`Id`) ON DELETE CASCADE
);"
2018-07-17 09:45:39.938 +00:00 [Information] Executed DbCommand ("67"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX `IX_InvoiceContacts_ZohoContactUserId` ON `InvoiceContacts` (`ZohoContactUserId`);"
2018-07-17 09:45:40.029 +00:00 [Information] Executed DbCommand ("85"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX `IX_RecurringInvoices_InvoiceContactUserId` ON `RecurringInvoices` (`InvoiceContactUserId`);"
2018-07-17 09:45:40.198 +00:00 [Information] Executed DbCommand ("164"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX `IX_ZohoItemRecurringInvoice_ZohoItemId` ON `ZohoItemRecurringInvoice` (`ZohoItemId`);"
2018-07-17 09:45:40.250 +00:00 [Information] Executed DbCommand ("46"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX `IX_ZohoItems_ZohoItemId` ON `ZohoItems` (`ZohoItemId`);"
2018-07-17 09:45:40.262 +00:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES ('20180717094456_initial', '2.1.1-rtm-30846');"
2018-07-17 09:45:40.373 +00:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM `ConfiguredPaymentGateways` AS `c`)
    THEN TRUE ELSE FALSE
END"
2018-07-17 09:45:40.508 +00:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p0='?' (Size = 255), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `ConfiguredPaymentGateways` (`Id`, `GatewayName`, `IsEnabled`)
VALUES (@p0, @p1, @p2);"
2018-07-17 09:45:42.399 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/swagger/index.html  
2018-07-17 09:45:42.673 +00:00 [Information] Request finished in 114.7593ms 200 text/html
2018-07-17 09:45:43.372 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/swagger/v1/swagger.json  
2018-07-17 09:45:44.014 +00:00 [Information] Request finished in 650.4257ms 200 application/json;charset=utf-8
2018-07-17 09:45:49.137 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/schedules/  
2018-07-17 09:45:49.387 +00:00 [Error] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The transaction associated with this command is not the connection's active transaction; see https://github.com/mysql-net/MySqlConnector/issues/474
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlCommand.cs:line 168
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader(CommandBehavior behavior)
   at Dapper.SqlMapper.ExecuteReaderWithFlagsFallback(IDbCommand cmd, Boolean wasClosed, CommandBehavior behavior)
   at Dapper.SqlMapper.QueryImpl[T](IDbConnection cnn, CommandDefinition command, Type effectiveType)+MoveNext()
   at System.Collections.Generic.List`1.AddEnumerable(IEnumerable`1 enumerable)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Dapper.SqlMapper.Query[T](IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Boolean buffered, Nullable`1 commandTimeout, Nullable`1 commandType)
   at Hangfire.MySql.Core.Monitoring.MySqlMonitoringApi.GetTimelineStats(MySqlConnection connection, IDictionary`2 keyMaps)
   at Hangfire.MySql.Core.Monitoring.MySqlMonitoringApi.GetHourlyTimelineStats(MySqlConnection connection, String type)
   at Hangfire.MySql.Core.MySqlStorage.<>c__DisplayClass20_0`1.<UseTransaction>b__0(MySqlConnection connection)
   at Hangfire.MySql.Core.MySqlStorage.UseConnection[T](Func`2 func)
   at Hangfire.MySql.Core.MySqlStorage.UseTransaction[T](Func`2 func, Nullable`1 isolationLevel)
   at Hangfire.Dashboard.Pages.HomePage.Execute()
   at Hangfire.Dashboard.RazorPage.TransformText(String body)
   at Hangfire.Dashboard.RazorPageDispatcher.Dispatch(DashboardContext context)
   at Hangfire.Dashboard.AspNetCoreDashboardMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)
   at Empite.TribechimpService.PaymentService.Infrastructure.ApplicationBuilderExtension.<>c__DisplayClass12_0.<<ConfigureApplicationPipeline>b__2>d.MoveNext() in C:\Users\MichikaP\Documents\Visual Studio 2017\Projects\Tribechimp-paymentservice\src\Empite.TribechimpService.CoreService\Infrastructure\ApplicationBuilderExtension.cs:line 204
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2018-07-17 09:45:49.653 +00:00 [Information] Request finished in 400.7021ms 500 text/html; charset=utf-8
2018-07-17 09:46:26.284 +00:00 [Information] User profile is available. Using '"C:\Users\MichikaP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-07-17 09:46:27.514 +00:00 [Information] DB tables already exist. Exit install
2018-07-17 09:46:29.306 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/swagger/index.html  
2018-07-17 09:46:29.367 +00:00 [Information] Request finished in 62.7756ms 200 text/html
2018-07-17 09:46:29.874 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/swagger/v1/swagger.json  
2018-07-17 09:46:30.271 +00:00 [Information] Request finished in 395.8678ms 200 application/json;charset=utf-8
2018-07-17 09:46:41.383 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/schedules  
2018-07-17 09:46:41.587 +00:00 [Error] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The transaction associated with this command is not the connection's active transaction; see https://github.com/mysql-net/MySqlConnector/issues/474
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlCommand.cs:line 168
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader(CommandBehavior behavior)
   at Dapper.SqlMapper.ExecuteReaderWithFlagsFallback(IDbCommand cmd, Boolean wasClosed, CommandBehavior behavior)
   at Dapper.SqlMapper.QueryImpl[T](IDbConnection cnn, CommandDefinition command, Type effectiveType)+MoveNext()
   at System.Collections.Generic.List`1.AddEnumerable(IEnumerable`1 enumerable)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Dapper.SqlMapper.Query[T](IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Boolean buffered, Nullable`1 commandTimeout, Nullable`1 commandType)
   at Hangfire.MySql.Core.Monitoring.MySqlMonitoringApi.GetTimelineStats(MySqlConnection connection, IDictionary`2 keyMaps)
   at Hangfire.MySql.Core.Monitoring.MySqlMonitoringApi.GetHourlyTimelineStats(MySqlConnection connection, String type)
   at Hangfire.MySql.Core.MySqlStorage.<>c__DisplayClass20_0`1.<UseTransaction>b__0(MySqlConnection connection)
   at Hangfire.MySql.Core.MySqlStorage.UseConnection[T](Func`2 func)
   at Hangfire.MySql.Core.MySqlStorage.UseTransaction[T](Func`2 func, Nullable`1 isolationLevel)
   at Hangfire.Dashboard.Pages.HomePage.Execute()
   at Hangfire.Dashboard.RazorPage.TransformText(String body)
   at Hangfire.Dashboard.RazorPageDispatcher.Dispatch(DashboardContext context)
   at Hangfire.Dashboard.AspNetCoreDashboardMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)
   at Empite.TribechimpService.PaymentService.Infrastructure.ApplicationBuilderExtension.<>c__DisplayClass12_0.<<ConfigureApplicationPipeline>b__2>d.MoveNext() in C:\Users\MichikaP\Documents\Visual Studio 2017\Projects\Tribechimp-paymentservice\src\Empite.TribechimpService.CoreService\Infrastructure\ApplicationBuilderExtension.cs:line 204
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2018-07-17 09:46:41.754 +00:00 [Information] Request finished in 365.7534ms 500 text/html; charset=utf-8
2018-07-17 09:48:48.249 +00:00 [Information] User profile is available. Using '"C:\Users\MichikaP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-07-17 09:48:49.271 +00:00 [Information] DB tables already exist. Exit install
2018-07-17 09:48:50.127 +00:00 [Error] MySql.Data.MySqlClient.MySqlException (0x80004005): Deadlock found when trying to get lock; try restarting transaction ---> MySql.Data.MySqlClient.MySqlException (0x80004005): Deadlock found when trying to get lock; try restarting transaction
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\Core\ResultSet.cs:line 44
   at MySql.Data.MySqlClient.MySqlDataReader.ActivateResultSet(ResultSet resultSet) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 93
   at MySql.Data.MySqlClient.MySqlDataReader.ReadFirstResultSetAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 328
   at MySql.Data.MySqlClient.MySqlDataReader.CreateAsync(MySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 313
   at MySqlConnector.Core.TextCommandExecutor.ExecuteReaderAsync(String commandText, MySqlParameterCollection parameterCollection, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in C:\projects\mysqlconnector\src\MySqlConnector\Core\TextCommandExecutor.cs:line 73
   at MySqlConnector.Core.TextCommandExecutor.ExecuteNonQueryAsync(String commandText, MySqlParameterCollection parameterCollection, IOBehavior ioBehavior, CancellationToken cancellationToken) in C:\projects\mysqlconnector\src\MySqlConnector\Core\TextCommandExecutor.cs:line 26
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteNonQuery() in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlCommand.cs:line 60
   at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader)
   at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command)
   at Dapper.SqlMapper.Execute(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType)
   at Hangfire.MySql.Core.MySqlDistributedLock.AcquireLock(String resource, TimeSpan timeout)
   at Hangfire.MySql.Core.MySqlDistributedLock.Acquire()
   at Hangfire.MySql.Core.ExpirationManager.<>c__DisplayClass10_2.<Execute>b__0(MySqlConnection connection)
2018-07-17 09:48:51.965 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/swagger/index.html  
2018-07-17 09:48:52.197 +00:00 [Information] Request finished in 203.0705ms 200 text/html
2018-07-17 09:48:52.634 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/swagger/v1/swagger.json  
2018-07-17 09:48:54.086 +00:00 [Information] Request finished in 1455.7987ms 200 application/json;charset=utf-8
2018-07-17 09:48:57.365 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/schedules  
2018-07-17 09:48:57.506 +00:00 [Error] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The transaction associated with this command is not the connection's active transaction; see https://github.com/mysql-net/MySqlConnector/issues/474
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlCommand.cs:line 168
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader(CommandBehavior behavior)
   at Dapper.SqlMapper.ExecuteReaderWithFlagsFallback(IDbCommand cmd, Boolean wasClosed, CommandBehavior behavior)
   at Dapper.SqlMapper.QueryImpl[T](IDbConnection cnn, CommandDefinition command, Type effectiveType)+MoveNext()
   at System.Collections.Generic.List`1.AddEnumerable(IEnumerable`1 enumerable)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Dapper.SqlMapper.Query[T](IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Boolean buffered, Nullable`1 commandTimeout, Nullable`1 commandType)
   at Hangfire.MySql.Core.Monitoring.MySqlMonitoringApi.GetTimelineStats(MySqlConnection connection, IDictionary`2 keyMaps)
   at Hangfire.MySql.Core.Monitoring.MySqlMonitoringApi.GetHourlyTimelineStats(MySqlConnection connection, String type)
   at Hangfire.MySql.Core.MySqlStorage.<>c__DisplayClass20_0`1.<UseTransaction>b__0(MySqlConnection connection)
   at Hangfire.MySql.Core.MySqlStorage.UseConnection[T](Func`2 func)
   at Hangfire.MySql.Core.MySqlStorage.UseTransaction[T](Func`2 func, Nullable`1 isolationLevel)
   at Hangfire.Dashboard.Pages.HomePage.Execute()
   at Hangfire.Dashboard.RazorPage.TransformText(String body)
   at Hangfire.Dashboard.RazorPageDispatcher.Dispatch(DashboardContext context)
   at Hangfire.Dashboard.AspNetCoreDashboardMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)
   at Empite.TribechimpService.PaymentService.Infrastructure.ApplicationBuilderExtension.<>c__DisplayClass12_0.<<ConfigureApplicationPipeline>b__2>d.MoveNext() in C:\Users\MichikaP\Documents\Visual Studio 2017\Projects\Tribechimp-paymentservice\src\Empite.TribechimpService.CoreService\Infrastructure\ApplicationBuilderExtension.cs:line 204
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2018-07-17 09:48:57.603 +00:00 [Information] Request finished in 237.1794ms 500 text/html; charset=utf-8
2018-07-17 09:48:57.919 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/schedules  
2018-07-17 09:48:57.952 +00:00 [Error] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The transaction associated with this command is not the connection's active transaction; see https://github.com/mysql-net/MySqlConnector/issues/474
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlCommand.cs:line 168
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader(CommandBehavior behavior)
   at Dapper.SqlMapper.ExecuteReaderWithFlagsFallback(IDbCommand cmd, Boolean wasClosed, CommandBehavior behavior)
   at Dapper.SqlMapper.QueryImpl[T](IDbConnection cnn, CommandDefinition command, Type effectiveType)+MoveNext()
   at System.Collections.Generic.List`1.AddEnumerable(IEnumerable`1 enumerable)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Dapper.SqlMapper.Query[T](IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Boolean buffered, Nullable`1 commandTimeout, Nullable`1 commandType)
   at Hangfire.MySql.Core.Monitoring.MySqlMonitoringApi.GetTimelineStats(MySqlConnection connection, IDictionary`2 keyMaps)
   at Hangfire.MySql.Core.Monitoring.MySqlMonitoringApi.GetHourlyTimelineStats(MySqlConnection connection, String type)
   at Hangfire.MySql.Core.MySqlStorage.<>c__DisplayClass20_0`1.<UseTransaction>b__0(MySqlConnection connection)
   at Hangfire.MySql.Core.MySqlStorage.UseConnection[T](Func`2 func)
   at Hangfire.MySql.Core.MySqlStorage.UseTransaction[T](Func`2 func, Nullable`1 isolationLevel)
   at Hangfire.Dashboard.Pages.HomePage.Execute()
   at Hangfire.Dashboard.RazorPage.TransformText(String body)
   at Hangfire.Dashboard.RazorPageDispatcher.Dispatch(DashboardContext context)
   at Hangfire.Dashboard.AspNetCoreDashboardMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)
   at Empite.TribechimpService.PaymentService.Infrastructure.ApplicationBuilderExtension.<>c__DisplayClass12_0.<<ConfigureApplicationPipeline>b__2>d.MoveNext() in C:\Users\MichikaP\Documents\Visual Studio 2017\Projects\Tribechimp-paymentservice\src\Empite.TribechimpService.CoreService\Infrastructure\ApplicationBuilderExtension.cs:line 204
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2018-07-17 09:48:58.002 +00:00 [Information] Request finished in 81.4584ms 500 text/html; charset=utf-8
2018-07-17 09:53:13.872 +00:00 [Information] User profile is available. Using '"C:\Users\MichikaP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-07-17 09:53:14.911 +00:00 [Information] DB tables already exist. Exit install
2018-07-17 09:53:17.855 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/swagger/index.html  
2018-07-17 09:53:18.176 +00:00 [Information] Request finished in 368.7272ms 200 text/html
2018-07-17 09:53:18.960 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/swagger/v1/swagger.json  
2018-07-17 09:53:19.594 +00:00 [Information] Request finished in 631.6378ms 200 application/json;charset=utf-8
2018-07-17 09:53:29.804 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/schedules  
2018-07-17 09:53:30.042 +00:00 [Information] Request finished in 262.0509ms 200 text/html
2018-07-17 09:53:32.768 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:53:32.854 +00:00 [Information] Request finished in 82.8629ms 200 application/json
2018-07-17 09:53:34.763 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/schedules/stats application/x-www-form-urlencoded; charset=UTF-8 228
2018-07-17 09:53:34.781 +00:00 [Information] Request finished in 17.4586ms 200 application/json
2018-07-17 09:54:05.694 +00:00 [Information] User profile is available. Using '"C:\Users\MichikaP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-07-17 09:54:06.835 +00:00 [Information] DB tables already exist. Exit install
2018-07-17 09:54:07.840 +00:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None"
2018-07-17 09:54:08.182 +00:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='dev-tribechimppaymentcore' AND TABLE_NAME='__EFMigrationsHistory';"
2018-07-17 09:54:08.260 +00:00 [Information] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='dev-tribechimppaymentcore' AND TABLE_NAME='__EFMigrationsHistory';"
2018-07-17 09:54:08.458 +00:00 [Information] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;"
2018-07-17 09:54:08.694 +00:00 [Information] No migrations were applied. The database is already up to date.
2018-07-17 09:54:08.865 +00:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM `ConfiguredPaymentGateways` AS `c`)
    THEN TRUE ELSE FALSE
END"
2018-07-17 09:54:11.049 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/swagger/index.html  
2018-07-17 09:54:11.354 +00:00 [Information] Request finished in 265.1681ms 200 text/html
2018-07-17 09:54:11.881 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/swagger/v1/swagger.json  
2018-07-17 09:54:12.520 +00:00 [Information] Request finished in 641.6718ms 200 application/json;charset=utf-8
2018-07-17 10:40:28.680 +00:00 [Information] User profile is available. Using '"C:\Users\MichikaP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-07-17 10:40:29.618 +00:00 [Information] DB tables already exist. Exit install
2018-07-17 10:40:30.575 +00:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None"
2018-07-17 10:40:30.640 +00:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='dev-tribechimppaymentcore' AND TABLE_NAME='__EFMigrationsHistory';"
2018-07-17 10:40:30.653 +00:00 [Information] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='dev-tribechimppaymentcore' AND TABLE_NAME='__EFMigrationsHistory';"
2018-07-17 10:40:30.672 +00:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;"
2018-07-17 10:40:30.693 +00:00 [Information] No migrations were applied. The database is already up to date.
2018-07-17 10:40:30.807 +00:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM `ConfiguredPaymentGateways` AS `c`)
    THEN TRUE ELSE FALSE
END"
2018-07-17 10:40:33.255 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/swagger/index.html  
2018-07-17 10:40:33.467 +00:00 [Information] Request finished in 176.3252ms 200 text/html
2018-07-17 10:40:34.063 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/swagger/v1/swagger.json  
2018-07-17 10:40:34.566 +00:00 [Information] Request finished in 500.3472ms 200 application/json;charset=utf-8
2018-07-17 11:03:06.659 +00:00 [Information] User profile is available. Using '"C:\Users\MichikaP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-07-17 11:03:07.601 +00:00 [Information] DB tables already exist. Exit install
2018-07-17 11:03:08.573 +00:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None"
2018-07-17 11:03:08.622 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='dev-tribechimppaymentcore' AND TABLE_NAME='__EFMigrationsHistory';"
2018-07-17 11:03:08.639 +00:00 [Information] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='dev-tribechimppaymentcore' AND TABLE_NAME='__EFMigrationsHistory';"
2018-07-17 11:03:08.657 +00:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;"
2018-07-17 11:03:08.679 +00:00 [Information] No migrations were applied. The database is already up to date.
2018-07-17 11:03:08.835 +00:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM `ConfiguredPaymentGateways` AS `c`)
    THEN TRUE ELSE FALSE
END"
2018-07-17 11:03:10.941 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/swagger/index.html  
2018-07-17 11:03:11.128 +00:00 [Information] Request finished in 179.1388ms 200 text/html
2018-07-17 11:03:12.103 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/swagger/v1/swagger.json  
2018-07-17 11:03:12.680 +00:00 [Information] Request finished in 583.9994ms 200 application/json;charset=utf-8
2018-07-17 11:03:22.188 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/api/invoice/runjobs  
2018-07-17 11:03:22.397 +00:00 [Information] Route matched with "{action = \"RunJobs\", controller = \"Invoice\"}". Executing action "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.RunJobs (Empite.TribechimpService.PaymentService)"
2018-07-17 11:03:22.475 +00:00 [Information] Executing action method "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.RunJobs (Empite.TribechimpService.PaymentService)" - Validation state: Valid
2018-07-17 11:03:41.319 +00:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None"
2018-07-17 11:03:41.456 +00:00 [Information] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ZohoInvoiceJobQueues` AS `x`
WHERE `x`.`IsSuccess` = FALSE"
2018-07-17 11:03:41.559 +00:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `x`.`Id`, `x`.`CreatedAt`, `x`.`CreatedBy`, `x`.`DeletedAt`, `x`.`DeletedBy`, `x`.`IsSuccess`, `x`.`JobType`, `x`.`JsonData`, `x`.`LastErrorMessage`, `x`.`ReTryCount`, `x`.`UpdatedAt`, `x`.`UpdatedBy`
FROM `ZohoInvoiceJobQueues` AS `x`
WHERE `x`.`IsSuccess` = FALSE
ORDER BY `x`.`CreatedAt`
LIMIT @__p_1 OFFSET @__p_0"
2018-07-17 11:03:41.611 +00:00 [Information] Executed action method "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.RunJobs (Empite.TribechimpService.PaymentService)", returned result "Microsoft.AspNetCore.Mvc.OkResult" in 19118.5144ms.
2018-07-17 11:03:41.643 +00:00 [Information] Executing HttpStatusCodeResult, setting HTTP status code 200
2018-07-17 11:03:41.659 +00:00 [Information] Executed action "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.RunJobs (Empite.TribechimpService.PaymentService)" in 19238.5581ms
2018-07-17 11:03:41.672 +00:00 [Information] Request finished in 19481.7845ms 200 
