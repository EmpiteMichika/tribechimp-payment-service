2018-07-17 06:06:15.684 +00:00 [Information] User profile is available. Using '"C:\Users\MichikaP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-07-17 06:06:19.694 +00:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None"
2018-07-17 06:06:20.056 +00:00 [Information] Executed DbCommand ("28"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA=N'dev-tribechimppaymentcore' AND TABLE_NAME=N'__EFMigrationsHistory';"
2018-07-17 06:06:20.089 +00:00 [Information] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA=N'dev-tribechimppaymentcore' AND TABLE_NAME=N'__EFMigrationsHistory';"
2018-07-17 06:06:20.126 +00:00 [Information] Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;"
2018-07-17 06:06:20.143 +00:00 [Information] No migrations were applied. The database is already up to date.
2018-07-17 06:06:20.255 +00:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM `ConfiguredPaymentGateways` AS `c`)
    THEN TRUE ELSE FALSE
END"
2018-07-17 06:06:22.184 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/swagger/index.html  
2018-07-17 06:06:22.239 +00:00 [Information] Request finished in 53.9959ms 200 text/html
2018-07-17 06:06:22.692 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/swagger/v1/swagger.json  
2018-07-17 06:06:23.146 +00:00 [Information] Request finished in 453.6686ms 200 application/json;charset=utf-8
2018-07-17 06:24:18.707 +00:00 [Information] User profile is available. Using '"C:\Users\MichikaP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-07-17 06:24:20.538 +00:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None"
2018-07-17 06:24:20.877 +00:00 [Information] Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA=N'dev-tribechimppaymentcore' AND TABLE_NAME=N'__EFMigrationsHistory';"
2018-07-17 06:24:20.903 +00:00 [Information] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA=N'dev-tribechimppaymentcore' AND TABLE_NAME=N'__EFMigrationsHistory';"
2018-07-17 06:24:20.916 +00:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;"
2018-07-17 06:24:20.949 +00:00 [Information] No migrations were applied. The database is already up to date.
2018-07-17 06:24:21.068 +00:00 [Information] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM `ConfiguredPaymentGateways` AS `c`)
    THEN TRUE ELSE FALSE
END"
2018-07-17 06:24:22.871 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/swagger/index.html  
2018-07-17 06:24:22.933 +00:00 [Information] Request finished in 61.4364ms 200 text/html
2018-07-17 06:24:23.402 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/swagger/v1/swagger.json  
2018-07-17 06:24:24.394 +00:00 [Information] Request finished in 990.6256ms 200 application/json;charset=utf-8
2018-07-17 06:26:18.065 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/api/invoice/createrecurringinvoice application/json 135
2018-07-17 06:26:18.272 +00:00 [Information] Route matched with "{action = \"CreateRecurringInvoice\", controller = \"Invoice\"}". Executing action "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.CreateRecurringInvoice (Empite.TribechimpService.PaymentService)"
2018-07-17 06:26:18.441 +00:00 [Information] Executing action method "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.CreateRecurringInvoice (Empite.TribechimpService.PaymentService)" with arguments (["Empite.TribechimpService.PaymentService.Domain.Dto.CreateRecurringInvoiceDto"]) - Validation state: Valid
2018-07-17 06:26:48.870 +00:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None"
2018-07-17 06:26:50.427 +00:00 [Information] Executed DbCommand ("35"ms) [Parameters=["@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (Size = 8000) (DbType = AnsiString), @p8='?' (Size = 8000) (DbType = AnsiString), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `ZohoInvoiceJobQueues` (`Id`, `CreatedAt`, `CreatedBy`, `DeletedAt`, `DeletedBy`, `IsSuccess`, `JobType`, `JsonData`, `LastErrorMessage`, `ReTryCount`, `UpdatedAt`, `UpdatedBy`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);"
2018-07-17 06:26:57.562 +00:00 [Information] Executed action method "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.CreateRecurringInvoice (Empite.TribechimpService.PaymentService)", returned result "Microsoft.AspNetCore.Mvc.OkResult" in 39046.6204ms.
2018-07-17 06:26:57.596 +00:00 [Information] Executing HttpStatusCodeResult, setting HTTP status code 200
2018-07-17 06:26:57.612 +00:00 [Information] Executed action "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.CreateRecurringInvoice (Empite.TribechimpService.PaymentService)" in 39318.5072ms
2018-07-17 06:26:57.631 +00:00 [Information] Request finished in 39564.217ms 200 
2018-07-17 06:27:39.303 +00:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None"
2018-07-17 06:27:56.310 +00:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None"
2018-07-17 06:27:56.809 +00:00 [Information] Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA=N'dev-tribechimppaymentcore' AND TABLE_NAME=N'__EFMigrationsHistory';"
2018-07-17 06:27:56.832 +00:00 [Information] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA=N'dev-tribechimppaymentcore' AND TABLE_NAME=N'__EFMigrationsHistory';"
2018-07-17 06:27:56.847 +00:00 [Information] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;"
2018-07-17 06:27:56.856 +00:00 [Information] Applying migration '"20180717062739_Added_all_completed_RecurringInvoice"'.
2018-07-17 06:27:56.972 +00:00 [Information] Executed DbCommand ("72"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE `RecurringInvoices` ADD `AllTaskCompleted` bit NOT NULL DEFAULT FALSE;"
2018-07-17 06:27:56.976 +00:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES (N'20180717062739_Added_all_completed_RecurringInvoice', N'2.1.1-rtm-30846');"
2018-07-17 06:28:11.057 +00:00 [Information] User profile is available. Using '"C:\Users\MichikaP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-07-17 06:28:13.011 +00:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None"
2018-07-17 06:28:13.315 +00:00 [Information] Executed DbCommand ("30"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA=N'dev-tribechimppaymentcore' AND TABLE_NAME=N'__EFMigrationsHistory';"
2018-07-17 06:28:13.346 +00:00 [Information] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA=N'dev-tribechimppaymentcore' AND TABLE_NAME=N'__EFMigrationsHistory';"
2018-07-17 06:28:13.365 +00:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;"
2018-07-17 06:28:13.382 +00:00 [Information] No migrations were applied. The database is already up to date.
2018-07-17 06:28:13.511 +00:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM `ConfiguredPaymentGateways` AS `c`)
    THEN TRUE ELSE FALSE
END"
2018-07-17 06:28:15.499 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/swagger/index.html  
2018-07-17 06:28:15.638 +00:00 [Information] Request finished in 143.8138ms 200 text/html
2018-07-17 06:28:16.172 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/swagger/v1/swagger.json  
2018-07-17 06:28:16.636 +00:00 [Information] Request finished in 462.5892ms 200 application/json;charset=utf-8
2018-07-17 06:28:21.111 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/api/invoice/runjobs  
2018-07-17 06:28:21.251 +00:00 [Information] Route matched with "{action = \"RunJobs\", controller = \"Invoice\"}". Executing action "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.RunJobs (Empite.TribechimpService.PaymentService)"
2018-07-17 06:28:21.284 +00:00 [Information] Executing action method "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.RunJobs (Empite.TribechimpService.PaymentService)" - Validation state: Valid
2018-07-17 06:28:30.830 +00:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None"
2018-07-17 06:28:30.920 +00:00 [Information] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ZohoInvoiceJobQueues` AS `x`
WHERE `x`.`IsSuccess` = FALSE"
2018-07-17 06:28:37.639 +00:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `x`.`Id`, `x`.`CreatedAt`, `x`.`CreatedBy`, `x`.`DeletedAt`, `x`.`DeletedBy`, `x`.`IsSuccess`, `x`.`JobType`, `x`.`JsonData`, `x`.`LastErrorMessage`, `x`.`ReTryCount`, `x`.`UpdatedAt`, `x`.`UpdatedBy`
FROM `ZohoInvoiceJobQueues` AS `x`
WHERE `x`.`IsSuccess` = FALSE
ORDER BY `x`.`CreatedAt`
LIMIT @__p_1 OFFSET @__p_0"
2018-07-17 06:28:45.537 +00:00 [Information] Executed action method "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.RunJobs (Empite.TribechimpService.PaymentService)", returned result "Microsoft.AspNetCore.Mvc.OkResult" in 22978.8111ms.
2018-07-17 06:28:51.322 +00:00 [Information] Executing HttpStatusCodeResult, setting HTTP status code 200
2018-07-17 06:28:53.100 +00:00 [Information] Executed action "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.RunJobs (Empite.TribechimpService.PaymentService)" in 31831.1205ms
2018-07-17 06:28:55.633 +00:00 [Information] Request finished in 32005.4789ms 200 
2018-07-17 06:29:11.072 +00:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__recurringInfo_UserId_0='?' (Size = 255)"], CommandType='Text', CommandTimeout='30']"
""SELECT `x`.`UserId`, `x`.`CreatedAt`, `x`.`CreatedBy`, `x`.`DeletedAt`, `x`.`DeletedBy`, `x`.`Email`, `x`.`OrganizationId`, `x`.`UpdatedAt`, `x`.`UpdatedBy`, `x`.`ZohoContactUserId`, `x`.`ZohoPrimaryContactId`
FROM `InvoiceContacts` AS `x`
WHERE `x`.`UserId` = @__recurringInfo_UserId_0
ORDER BY `x`.`UserId`
LIMIT 1"
2018-07-17 06:29:11.104 +00:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__recurringInfo_UserId_0='?' (Size = 255)"], CommandType='Text', CommandTimeout='30']"
""SELECT `x.RecurringInvoices`.`Id`, `x.RecurringInvoices`.`AllTaskCompleted`, `x.RecurringInvoices`.`CreatedAt`, `x.RecurringInvoices`.`CreatedBy`, `x.RecurringInvoices`.`DeletedAt`, `x.RecurringInvoices`.`DeletedBy`, `x.RecurringInvoices`.`InvoiceContactUserId`, `x.RecurringInvoices`.`IsDue`, `x.RecurringInvoices`.`RecurringInvoiceId`, `x.RecurringInvoices`.`UpdatedAt`, `x.RecurringInvoices`.`UpdatedBy`
FROM `RecurringInvoices` AS `x.RecurringInvoices`
INNER JOIN (
    SELECT `x0`.`UserId`
    FROM `InvoiceContacts` AS `x0`
    WHERE `x0`.`UserId` = @__recurringInfo_UserId_0
    ORDER BY `x0`.`UserId`
    LIMIT 1
) AS `t` ON `x.RecurringInvoices`.`InvoiceContactUserId` = `t`.`UserId`
ORDER BY `t`.`UserId`"
2018-07-17 06:29:35.418 +00:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__itemId_ItemId_0='?' (Size = 255)"], CommandType='Text', CommandTimeout='30']"
""SELECT `y`.`Id`, `y`.`CreatedAt`, `y`.`CreatedBy`, `y`.`DeletedAt`, `y`.`DeletedBy`, `y`.`Description`, `y`.`Name`, `y`.`Rate`, `y`.`UpdatedAt`, `y`.`UpdatedBy`, `y`.`ZohoItemId`
FROM `ZohoItems` AS `y`
WHERE `y`.`Id` = @__itemId_ItemId_0
LIMIT 1"
2018-07-17 06:29:44.961 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `x`.`IsEnabled` AS `configured`, `x`.`GatewayName` AS `gateway_name`
FROM `ConfiguredPaymentGateways` AS `x`"
2018-07-17 06:29:58.644 +00:00 [Information] Start processing HTTP request "POST" https://invoice.zoho.com/api/v3/recurringinvoices
2018-07-17 06:29:58.650 +00:00 [Information] Sending HTTP request "POST" https://invoice.zoho.com/api/v3/recurringinvoices
2018-07-17 06:30:00.175 +00:00 [Information] Received HTTP response after 1516.8339ms - Created
2018-07-17 06:30:00.184 +00:00 [Information] End processing HTTP request after 1551.833ms - Created
2018-07-17 06:30:27.144 +00:00 [Information] Executed DbCommand ("17"ms) [Parameters=["@p0='?' (Size = 255), @p1='?' (DbType = Boolean), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = DateTime), @p5='?' (DbType = Guid), @p6='?' (Size = 255), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `RecurringInvoices` (`Id`, `AllTaskCompleted`, `CreatedAt`, `CreatedBy`, `DeletedAt`, `DeletedBy`, `InvoiceContactUserId`, `IsDue`, `RecurringInvoiceId`, `UpdatedAt`, `UpdatedBy`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);"
2018-07-17 06:30:27.186 +00:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p11='?' (Size = 255), @p12='?' (Size = 255), @p13='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `ZohoItemRecurringInvoice` (`RecurringInvoiceId`, `ZohoItemId`, `Qty`)
VALUES (@p11, @p12, @p13);"
2018-07-17 06:30:53.610 +00:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@p1='?' (Size = 255), @p0='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `ZohoInvoiceJobQueues` SET `UpdatedAt` = @p0
WHERE `Id` = @p1;
SELECT ROW_COUNT();"
2018-07-17 06:30:53.620 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (Size = 8000) (DbType = AnsiString), @p8='?' (Size = 8000) (DbType = AnsiString), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `ZohoInvoiceJobQueues` (`Id`, `CreatedAt`, `CreatedBy`, `DeletedAt`, `DeletedBy`, `IsSuccess`, `JobType`, `JsonData`, `LastErrorMessage`, `ReTryCount`, `UpdatedAt`, `UpdatedBy`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);"
2018-07-17 06:30:55.809 +00:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p1='?' (Size = 255), @p0='?' (DbType = Boolean)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `ZohoInvoiceJobQueues` SET `IsSuccess` = @p0
WHERE `Id` = @p1;
SELECT ROW_COUNT();"
2018-07-17 06:31:07.544 +00:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@__recurringInvoiceId_0='?' (Size = 255)"], CommandType='Text', CommandTimeout='30']"
""SELECT `x`.`Id`, `x`.`AllTaskCompleted`, `x`.`CreatedAt`, `x`.`CreatedBy`, `x`.`DeletedAt`, `x`.`DeletedBy`, `x`.`InvoiceContactUserId`, `x`.`IsDue`, `x`.`RecurringInvoiceId`, `x`.`UpdatedAt`, `x`.`UpdatedBy`
FROM `RecurringInvoices` AS `x`
WHERE `x`.`Id` = @__recurringInvoiceId_0
ORDER BY `x`.`Id`
LIMIT 1"
2018-07-17 06:31:07.558 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__recurringInvoiceId_0='?' (Size = 255)"], CommandType='Text', CommandTimeout='30']"
""SELECT `x.ZohoItems`.`RecurringInvoiceId`, `x.ZohoItems`.`ZohoItemId`, `x.ZohoItems`.`Qty`
FROM `ZohoItemRecurringInvoice` AS `x.ZohoItems`
INNER JOIN (
    SELECT `x0`.`Id`
    FROM `RecurringInvoices` AS `x0`
    WHERE `x0`.`Id` = @__recurringInvoiceId_0
    ORDER BY `x0`.`Id`
    LIMIT 1
) AS `t` ON `x.ZohoItems`.`RecurringInvoiceId` = `t`.`Id`
ORDER BY `t`.`Id`"
2018-07-17 06:31:18.659 +00:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@__recurringInvoice_0_Id='?' (Size = 255)"], CommandType='Text', CommandTimeout='30']"
""SELECT `x`.`UserId`, `x`.`CreatedAt`, `x`.`CreatedBy`, `x`.`DeletedAt`, `x`.`DeletedBy`, `x`.`Email`, `x`.`OrganizationId`, `x`.`UpdatedAt`, `x`.`UpdatedBy`, `x`.`ZohoContactUserId`, `x`.`ZohoPrimaryContactId`
FROM `InvoiceContacts` AS `x`
WHERE @__recurringInvoice_0_Id IN (
    SELECT `r`.`Id`
    FROM `RecurringInvoices` AS `r`
    WHERE `x`.`UserId` = `r`.`InvoiceContactUserId`
)
ORDER BY `x`.`UserId`
LIMIT 1"
2018-07-17 06:31:18.670 +00:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@__recurringInvoice_0_Id='?' (Size = 255)"], CommandType='Text', CommandTimeout='30']"
""SELECT `x.RecurringInvoices`.`Id`, `x.RecurringInvoices`.`AllTaskCompleted`, `x.RecurringInvoices`.`CreatedAt`, `x.RecurringInvoices`.`CreatedBy`, `x.RecurringInvoices`.`DeletedAt`, `x.RecurringInvoices`.`DeletedBy`, `x.RecurringInvoices`.`InvoiceContactUserId`, `x.RecurringInvoices`.`IsDue`, `x.RecurringInvoices`.`RecurringInvoiceId`, `x.RecurringInvoices`.`UpdatedAt`, `x.RecurringInvoices`.`UpdatedBy`
FROM `RecurringInvoices` AS `x.RecurringInvoices`
INNER JOIN (
    SELECT `x0`.`UserId`
    FROM `InvoiceContacts` AS `x0`
    WHERE @__recurringInvoice_0_Id IN (
        SELECT `r0`.`Id`
        FROM `RecurringInvoices` AS `r0`
        WHERE `x0`.`UserId` = `r0`.`InvoiceContactUserId`
    )
    ORDER BY `x0`.`UserId`
    LIMIT 1
) AS `t` ON `x.RecurringInvoices`.`InvoiceContactUserId` = `t`.`UserId`
ORDER BY `t`.`UserId`"
2018-07-17 06:31:47.774 +00:00 [Information] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `x`.`IsEnabled` AS `configured`, `x`.`GatewayName` AS `gateway_name`
FROM `ConfiguredPaymentGateways` AS `x`"
2018-07-17 06:32:11.228 +00:00 [Information] Start processing HTTP request "POST" https://invoice.zoho.com/api/v3/invoices
2018-07-17 06:32:11.232 +00:00 [Information] Sending HTTP request "POST" https://invoice.zoho.com/api/v3/invoices
2018-07-17 06:32:12.484 +00:00 [Information] Received HTTP response after 1250.7685ms - Created
2018-07-17 06:32:12.495 +00:00 [Information] End processing HTTP request after 1263.4243ms - Created
2018-07-17 06:32:28.730 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (Size = 8000) (DbType = AnsiString), @p8='?' (Size = 8000) (DbType = AnsiString), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `ZohoInvoiceJobQueues` (`Id`, `CreatedAt`, `CreatedBy`, `DeletedAt`, `DeletedBy`, `IsSuccess`, `JobType`, `JsonData`, `LastErrorMessage`, `ReTryCount`, `UpdatedAt`, `UpdatedBy`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);"
2018-07-17 06:32:32.413 +00:00 [Information] Start processing HTTP request "POST" https://invoice.zoho.com/api/v3/invoices/1414691000000094001/email
2018-07-17 06:32:32.417 +00:00 [Information] Sending HTTP request "POST" https://invoice.zoho.com/api/v3/invoices/1414691000000094001/email
2018-07-17 06:32:33.325 +00:00 [Information] Received HTTP response after 908.1527ms - OK
2018-07-17 06:32:33.329 +00:00 [Information] End processing HTTP request after 918.0666ms - OK
2018-07-17 06:32:39.959 +00:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@p1='?' (Size = 255), @p0='?' (DbType = Boolean)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `RecurringInvoices` SET `AllTaskCompleted` = @p0
WHERE `Id` = @p1;
SELECT ROW_COUNT();"
2018-07-17 06:32:39.966 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@p2='?' (Size = 255), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `ZohoInvoiceJobQueues` SET `IsSuccess` = @p0, `UpdatedAt` = @p1
WHERE `Id` = @p2;
SELECT ROW_COUNT();"
2018-07-17 06:32:52.682 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@p1='?' (Size = 255), @p0='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `ZohoInvoiceJobQueues` SET `UpdatedAt` = @p0
WHERE `Id` = @p1;
SELECT ROW_COUNT();"
2018-07-17 06:32:52.689 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@p1='?' (Size = 255), @p0='?' (DbType = Boolean)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `ZohoInvoiceJobQueues` SET `IsSuccess` = @p0
WHERE `Id` = @p1;
SELECT ROW_COUNT();"
2018-07-17 06:41:30.223 +00:00 [Information] User profile is available. Using '"C:\Users\MichikaP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-07-17 06:41:31.852 +00:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None"
2018-07-17 06:41:32.124 +00:00 [Information] Executed DbCommand ("20"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA=N'dev-tribechimppaymentcore' AND TABLE_NAME=N'__EFMigrationsHistory';"
2018-07-17 06:41:32.147 +00:00 [Information] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA=N'dev-tribechimppaymentcore' AND TABLE_NAME=N'__EFMigrationsHistory';"
2018-07-17 06:41:32.163 +00:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;"
2018-07-17 06:41:32.177 +00:00 [Information] No migrations were applied. The database is already up to date.
2018-07-17 06:41:32.278 +00:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM `ConfiguredPaymentGateways` AS `c`)
    THEN TRUE ELSE FALSE
END"
2018-07-17 06:41:34.212 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/swagger/index.html  
2018-07-17 06:41:34.426 +00:00 [Information] Request finished in 165.7575ms 200 text/html
2018-07-17 06:41:34.840 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/swagger/v1/swagger.json  
2018-07-17 06:41:35.260 +00:00 [Information] Request finished in 418.1965ms 200 application/json;charset=utf-8
2018-07-17 06:43:36.995 +00:00 [Information] User profile is available. Using '"C:\Users\MichikaP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-07-17 06:43:38.590 +00:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None"
2018-07-17 06:43:38.903 +00:00 [Information] Executed DbCommand ("22"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA=N'dev-tribechimppaymentcore' AND TABLE_NAME=N'__EFMigrationsHistory';"
2018-07-17 06:43:38.927 +00:00 [Information] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA=N'dev-tribechimppaymentcore' AND TABLE_NAME=N'__EFMigrationsHistory';"
2018-07-17 06:43:38.942 +00:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;"
2018-07-17 06:43:38.955 +00:00 [Information] No migrations were applied. The database is already up to date.
2018-07-17 06:43:39.077 +00:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM `ConfiguredPaymentGateways` AS `c`)
    THEN TRUE ELSE FALSE
END"
2018-07-17 06:43:41.209 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/swagger/index.html  
2018-07-17 06:43:41.380 +00:00 [Information] Request finished in 84.3831ms 200 text/html
2018-07-17 06:43:41.740 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/swagger/v1/swagger.json  
2018-07-17 06:43:42.192 +00:00 [Information] Request finished in 451.1616ms 200 application/json;charset=utf-8
2018-07-17 06:44:16.745 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/api/invoice/createrecurringinvoice application/json 135
2018-07-17 06:44:16.848 +00:00 [Information] Route matched with "{action = \"CreateRecurringInvoice\", controller = \"Invoice\"}". Executing action "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.CreateRecurringInvoice (Empite.TribechimpService.PaymentService)"
2018-07-17 06:44:16.968 +00:00 [Information] Executing action method "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.CreateRecurringInvoice (Empite.TribechimpService.PaymentService)" with arguments (["Empite.TribechimpService.PaymentService.Domain.Dto.CreateRecurringInvoiceDto"]) - Validation state: Valid
2018-07-17 06:44:22.290 +00:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None"
2018-07-17 06:44:22.695 +00:00 [Information] Executed DbCommand ("30"ms) [Parameters=["@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (Size = 8000) (DbType = AnsiString), @p8='?' (Size = 8000) (DbType = AnsiString), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `ZohoInvoiceJobQueues` (`Id`, `CreatedAt`, `CreatedBy`, `DeletedAt`, `DeletedBy`, `IsSuccess`, `JobType`, `JsonData`, `LastErrorMessage`, `ReTryCount`, `UpdatedAt`, `UpdatedBy`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);"
2018-07-17 06:44:22.744 +00:00 [Information] Executed action method "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.CreateRecurringInvoice (Empite.TribechimpService.PaymentService)", returned result "Microsoft.AspNetCore.Mvc.OkResult" in 5600.0452ms.
2018-07-17 06:44:22.793 +00:00 [Information] Executing HttpStatusCodeResult, setting HTTP status code 200
2018-07-17 06:44:22.878 +00:00 [Information] Executed action "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.CreateRecurringInvoice (Empite.TribechimpService.PaymentService)" in 6005.7461ms
2018-07-17 06:44:22.933 +00:00 [Information] Request finished in 6163.6408ms 200 
2018-07-17 06:44:33.208 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/api/invoice/runjobs  
2018-07-17 06:44:33.225 +00:00 [Information] Route matched with "{action = \"RunJobs\", controller = \"Invoice\"}". Executing action "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.RunJobs (Empite.TribechimpService.PaymentService)"
2018-07-17 06:44:33.247 +00:00 [Information] Executing action method "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.RunJobs (Empite.TribechimpService.PaymentService)" - Validation state: Valid
2018-07-17 06:44:37.870 +00:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None"
2018-07-17 06:44:37.924 +00:00 [Information] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ZohoInvoiceJobQueues` AS `x`
WHERE `x`.`IsSuccess` = FALSE"
2018-07-17 06:44:37.964 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `x`.`Id`, `x`.`CreatedAt`, `x`.`CreatedBy`, `x`.`DeletedAt`, `x`.`DeletedBy`, `x`.`IsSuccess`, `x`.`JobType`, `x`.`JsonData`, `x`.`LastErrorMessage`, `x`.`ReTryCount`, `x`.`UpdatedAt`, `x`.`UpdatedBy`
FROM `ZohoInvoiceJobQueues` AS `x`
WHERE `x`.`IsSuccess` = FALSE
ORDER BY `x`.`CreatedAt`
LIMIT @__p_1 OFFSET @__p_0"
2018-07-17 06:44:37.989 +00:00 [Information] Executed action method "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.RunJobs (Empite.TribechimpService.PaymentService)", returned result "Microsoft.AspNetCore.Mvc.OkResult" in 4736.487ms.
2018-07-17 06:44:37.993 +00:00 [Information] Executing HttpStatusCodeResult, setting HTTP status code 200
2018-07-17 06:44:37.996 +00:00 [Information] Executed action "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.RunJobs (Empite.TribechimpService.PaymentService)" in 4765.4933ms
2018-07-17 06:44:38.005 +00:00 [Information] Request finished in 4798.2319ms 200 
2018-07-17 06:44:54.170 +00:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@__recurringInfo_UserId_0='?' (Size = 255)"], CommandType='Text', CommandTimeout='30']"
""SELECT `x`.`UserId`, `x`.`CreatedAt`, `x`.`CreatedBy`, `x`.`DeletedAt`, `x`.`DeletedBy`, `x`.`Email`, `x`.`OrganizationId`, `x`.`UpdatedAt`, `x`.`UpdatedBy`, `x`.`ZohoContactUserId`, `x`.`ZohoPrimaryContactId`
FROM `InvoiceContacts` AS `x`
WHERE `x`.`UserId` = @__recurringInfo_UserId_0
ORDER BY `x`.`UserId`
LIMIT 1"
2018-07-17 06:44:54.199 +00:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@__recurringInfo_UserId_0='?' (Size = 255)"], CommandType='Text', CommandTimeout='30']"
""SELECT `x.RecurringInvoices`.`Id`, `x.RecurringInvoices`.`AllTaskCompleted`, `x.RecurringInvoices`.`CreatedAt`, `x.RecurringInvoices`.`CreatedBy`, `x.RecurringInvoices`.`DeletedAt`, `x.RecurringInvoices`.`DeletedBy`, `x.RecurringInvoices`.`InvoiceContactUserId`, `x.RecurringInvoices`.`IsDue`, `x.RecurringInvoices`.`RecurringInvoiceId`, `x.RecurringInvoices`.`UpdatedAt`, `x.RecurringInvoices`.`UpdatedBy`
FROM `RecurringInvoices` AS `x.RecurringInvoices`
INNER JOIN (
    SELECT `x0`.`UserId`
    FROM `InvoiceContacts` AS `x0`
    WHERE `x0`.`UserId` = @__recurringInfo_UserId_0
    ORDER BY `x0`.`UserId`
    LIMIT 1
) AS `t` ON `x.RecurringInvoices`.`InvoiceContactUserId` = `t`.`UserId`
ORDER BY `t`.`UserId`"
2018-07-17 06:45:01.977 +00:00 [Information] Executed DbCommand ("17"ms) [Parameters=["@__itemId_ItemId_0='?' (Size = 255)"], CommandType='Text', CommandTimeout='30']"
""SELECT `y`.`Id`, `y`.`CreatedAt`, `y`.`CreatedBy`, `y`.`DeletedAt`, `y`.`DeletedBy`, `y`.`Description`, `y`.`Name`, `y`.`Rate`, `y`.`UpdatedAt`, `y`.`UpdatedBy`, `y`.`ZohoItemId`
FROM `ZohoItems` AS `y`
WHERE `y`.`Id` = @__itemId_ItemId_0
LIMIT 1"
2018-07-17 06:45:15.175 +00:00 [Information] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `x`.`IsEnabled` AS `configured`, `x`.`GatewayName` AS `gateway_name`
FROM `ConfiguredPaymentGateways` AS `x`"
2018-07-17 06:45:35.012 +00:00 [Information] Start processing HTTP request "POST" https://invoice.zoho.com/api/v3/recurringinvoices
2018-07-17 06:45:35.019 +00:00 [Information] Sending HTTP request "POST" https://invoice.zoho.com/api/v3/recurringinvoices
2018-07-17 06:45:36.545 +00:00 [Information] Received HTTP response after 1519.6227ms - Created
2018-07-17 06:45:36.554 +00:00 [Information] End processing HTTP request after 1549.8335ms - Created
2018-07-17 06:46:01.121 +00:00 [Information] Executed DbCommand ("27"ms) [Parameters=["@p0='?' (Size = 255), @p1='?' (DbType = Boolean), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = DateTime), @p5='?' (DbType = Guid), @p6='?' (Size = 255), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `RecurringInvoices` (`Id`, `AllTaskCompleted`, `CreatedAt`, `CreatedBy`, `DeletedAt`, `DeletedBy`, `InvoiceContactUserId`, `IsDue`, `RecurringInvoiceId`, `UpdatedAt`, `UpdatedBy`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);"
2018-07-17 06:46:01.175 +00:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@p11='?' (Size = 255), @p12='?' (Size = 255), @p13='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `ZohoItemRecurringInvoice` (`RecurringInvoiceId`, `ZohoItemId`, `Qty`)
VALUES (@p11, @p12, @p13);"
2018-07-17 06:46:11.702 +00:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@p1='?' (Size = 255), @p0='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `ZohoInvoiceJobQueues` SET `UpdatedAt` = @p0
WHERE `Id` = @p1;
SELECT ROW_COUNT();"
2018-07-17 06:46:11.710 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (Size = 8000) (DbType = AnsiString), @p8='?' (Size = 8000) (DbType = AnsiString), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `ZohoInvoiceJobQueues` (`Id`, `CreatedAt`, `CreatedBy`, `DeletedAt`, `DeletedBy`, `IsSuccess`, `JobType`, `JsonData`, `LastErrorMessage`, `ReTryCount`, `UpdatedAt`, `UpdatedBy`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);"
2018-07-17 06:46:13.490 +00:00 [Information] Executed DbCommand ("60"ms) [Parameters=["@p1='?' (Size = 255), @p0='?' (DbType = Boolean)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `ZohoInvoiceJobQueues` SET `IsSuccess` = @p0
WHERE `Id` = @p1;
SELECT ROW_COUNT();"
2018-07-17 06:46:15.764 +00:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@__recurringInvoiceId_0='?' (Size = 255)"], CommandType='Text', CommandTimeout='30']"
""SELECT `x`.`Id`, `x`.`AllTaskCompleted`, `x`.`CreatedAt`, `x`.`CreatedBy`, `x`.`DeletedAt`, `x`.`DeletedBy`, `x`.`InvoiceContactUserId`, `x`.`IsDue`, `x`.`RecurringInvoiceId`, `x`.`UpdatedAt`, `x`.`UpdatedBy`
FROM `RecurringInvoices` AS `x`
WHERE `x`.`Id` = @__recurringInvoiceId_0
ORDER BY `x`.`Id`
LIMIT 1"
2018-07-17 06:46:15.779 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__recurringInvoiceId_0='?' (Size = 255)"], CommandType='Text', CommandTimeout='30']"
""SELECT `x.ZohoItems`.`RecurringInvoiceId`, `x.ZohoItems`.`ZohoItemId`, `x.ZohoItems`.`Qty`
FROM `ZohoItemRecurringInvoice` AS `x.ZohoItems`
INNER JOIN (
    SELECT `x0`.`Id`
    FROM `RecurringInvoices` AS `x0`
    WHERE `x0`.`Id` = @__recurringInvoiceId_0
    ORDER BY `x0`.`Id`
    LIMIT 1
) AS `t` ON `x.ZohoItems`.`RecurringInvoiceId` = `t`.`Id`
ORDER BY `t`.`Id`"
2018-07-17 06:46:15.830 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__recurringInvoice_0_Id='?' (Size = 255)"], CommandType='Text', CommandTimeout='30']"
""SELECT `x`.`UserId`, `x`.`CreatedAt`, `x`.`CreatedBy`, `x`.`DeletedAt`, `x`.`DeletedBy`, `x`.`Email`, `x`.`OrganizationId`, `x`.`UpdatedAt`, `x`.`UpdatedBy`, `x`.`ZohoContactUserId`, `x`.`ZohoPrimaryContactId`
FROM `InvoiceContacts` AS `x`
WHERE @__recurringInvoice_0_Id IN (
    SELECT `r`.`Id`
    FROM `RecurringInvoices` AS `r`
    WHERE `x`.`UserId` = `r`.`InvoiceContactUserId`
)
ORDER BY `x`.`UserId`
LIMIT 1"
2018-07-17 06:46:15.844 +00:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__recurringInvoice_0_Id='?' (Size = 255)"], CommandType='Text', CommandTimeout='30']"
""SELECT `x.RecurringInvoices`.`Id`, `x.RecurringInvoices`.`AllTaskCompleted`, `x.RecurringInvoices`.`CreatedAt`, `x.RecurringInvoices`.`CreatedBy`, `x.RecurringInvoices`.`DeletedAt`, `x.RecurringInvoices`.`DeletedBy`, `x.RecurringInvoices`.`InvoiceContactUserId`, `x.RecurringInvoices`.`IsDue`, `x.RecurringInvoices`.`RecurringInvoiceId`, `x.RecurringInvoices`.`UpdatedAt`, `x.RecurringInvoices`.`UpdatedBy`
FROM `RecurringInvoices` AS `x.RecurringInvoices`
INNER JOIN (
    SELECT `x0`.`UserId`
    FROM `InvoiceContacts` AS `x0`
    WHERE @__recurringInvoice_0_Id IN (
        SELECT `r0`.`Id`
        FROM `RecurringInvoices` AS `r0`
        WHERE `x0`.`UserId` = `r0`.`InvoiceContactUserId`
    )
    ORDER BY `x0`.`UserId`
    LIMIT 1
) AS `t` ON `x.RecurringInvoices`.`InvoiceContactUserId` = `t`.`UserId`
ORDER BY `t`.`UserId`"
2018-07-17 06:46:15.860 +00:00 [Information] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `x`.`IsEnabled` AS `configured`, `x`.`GatewayName` AS `gateway_name`
FROM `ConfiguredPaymentGateways` AS `x`"
2018-07-17 06:46:15.874 +00:00 [Information] Start processing HTTP request "POST" https://invoice.zoho.com/api/v3/invoices
2018-07-17 06:46:15.879 +00:00 [Information] Sending HTTP request "POST" https://invoice.zoho.com/api/v3/invoices
2018-07-17 06:46:17.140 +00:00 [Information] Received HTTP response after 1261.2233ms - Created
2018-07-17 06:46:17.147 +00:00 [Information] End processing HTTP request after 1272.8515ms - Created
2018-07-17 06:46:17.167 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (Size = 8000) (DbType = AnsiString), @p8='?' (Size = 8000) (DbType = AnsiString), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `ZohoInvoiceJobQueues` (`Id`, `CreatedAt`, `CreatedBy`, `DeletedAt`, `DeletedBy`, `IsSuccess`, `JobType`, `JsonData`, `LastErrorMessage`, `ReTryCount`, `UpdatedAt`, `UpdatedBy`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);"
2018-07-17 06:46:17.182 +00:00 [Information] Start processing HTTP request "POST" https://invoice.zoho.com/api/v3/invoices/1414691000000096011/email
2018-07-17 06:46:17.186 +00:00 [Information] Sending HTTP request "POST" https://invoice.zoho.com/api/v3/invoices/1414691000000096011/email
2018-07-17 06:46:18.122 +00:00 [Information] Received HTTP response after 934.4769ms - OK
2018-07-17 06:46:18.132 +00:00 [Information] End processing HTTP request after 948.3704ms - OK
2018-07-17 06:46:18.150 +00:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@p1='?' (Size = 255), @p0='?' (DbType = Boolean)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `RecurringInvoices` SET `AllTaskCompleted` = @p0
WHERE `Id` = @p1;
SELECT ROW_COUNT();"
2018-07-17 06:46:18.159 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@p2='?' (Size = 255), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `ZohoInvoiceJobQueues` SET `IsSuccess` = @p0, `UpdatedAt` = @p1
WHERE `Id` = @p2;
SELECT ROW_COUNT();"
2018-07-17 06:46:21.318 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@p2='?' (Size = 255), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `ZohoInvoiceJobQueues` SET `IsSuccess` = @p0, `UpdatedAt` = @p1
WHERE `Id` = @p2;
SELECT ROW_COUNT();"
2018-07-17 06:53:57.506 +00:00 [Information] User profile is available. Using '"C:\Users\MichikaP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-07-17 06:53:59.124 +00:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None"
2018-07-17 06:53:59.367 +00:00 [Information] Executed DbCommand ("18"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA=N'dev-tribechimppaymentcore' AND TABLE_NAME=N'__EFMigrationsHistory';"
2018-07-17 06:53:59.399 +00:00 [Information] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA=N'dev-tribechimppaymentcore' AND TABLE_NAME=N'__EFMigrationsHistory';"
2018-07-17 06:53:59.410 +00:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;"
2018-07-17 06:53:59.423 +00:00 [Information] No migrations were applied. The database is already up to date.
2018-07-17 06:53:59.511 +00:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM `ConfiguredPaymentGateways` AS `c`)
    THEN TRUE ELSE FALSE
END"
2018-07-17 06:54:01.825 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/swagger/index.html  
2018-07-17 06:54:01.954 +00:00 [Information] Request finished in 126.4647ms 200 text/html
2018-07-17 06:54:03.836 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/swagger/v1/swagger.json  
2018-07-17 06:54:04.227 +00:00 [Information] Request finished in 387.4386ms 200 application/json;charset=utf-8
2018-07-17 06:59:11.690 +00:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None"
2018-07-17 06:59:22.579 +00:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None"
2018-07-17 06:59:23.013 +00:00 [Information] Executed DbCommand ("22"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA=N'dev-tribechimppaymentcore' AND TABLE_NAME=N'__EFMigrationsHistory';"
2018-07-17 06:59:23.039 +00:00 [Information] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA=N'dev-tribechimppaymentcore' AND TABLE_NAME=N'__EFMigrationsHistory';"
2018-07-17 06:59:23.051 +00:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;"
2018-07-17 06:59:23.060 +00:00 [Information] Applying migration '"20180717065911_Added_name_recurringInvoice"'.
2018-07-17 06:59:23.136 +00:00 [Information] Executed DbCommand ("45"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE `RecurringInvoices` ADD `RecurringInvoiceName` longtext NULL;"
2018-07-17 06:59:23.138 +00:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES (N'20180717065911_Added_name_recurringInvoice', N'2.1.1-rtm-30846');"
2018-07-17 06:59:36.655 +00:00 [Information] User profile is available. Using '"C:\Users\MichikaP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-07-17 06:59:38.495 +00:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None"
2018-07-17 06:59:38.770 +00:00 [Information] Executed DbCommand ("19"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA=N'dev-tribechimppaymentcore' AND TABLE_NAME=N'__EFMigrationsHistory';"
2018-07-17 06:59:38.794 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA=N'dev-tribechimppaymentcore' AND TABLE_NAME=N'__EFMigrationsHistory';"
2018-07-17 06:59:38.806 +00:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;"
2018-07-17 06:59:38.822 +00:00 [Information] No migrations were applied. The database is already up to date.
2018-07-17 06:59:38.910 +00:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM `ConfiguredPaymentGateways` AS `c`)
    THEN TRUE ELSE FALSE
END"
2018-07-17 06:59:40.639 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/swagger/index.html  
2018-07-17 06:59:40.694 +00:00 [Information] Request finished in 53.4283ms 200 text/html
2018-07-17 06:59:41.134 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/swagger/v1/swagger.json  
2018-07-17 06:59:41.574 +00:00 [Information] Request finished in 439.7141ms 200 application/json;charset=utf-8
2018-07-17 07:04:26.977 +00:00 [Information] Request starting HTTP/1.1 POST https://localhost:5011/api/invoice/createrecurringinvoice application/json 135
2018-07-17 07:04:27.086 +00:00 [Information] Route matched with "{action = \"CreateRecurringInvoice\", controller = \"Invoice\"}". Executing action "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.CreateRecurringInvoice (Empite.TribechimpService.PaymentService)"
2018-07-17 07:04:27.174 +00:00 [Information] Executing action method "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.CreateRecurringInvoice (Empite.TribechimpService.PaymentService)" with arguments (["Empite.TribechimpService.PaymentService.Domain.Dto.CreateRecurringInvoiceDto"]) - Validation state: Valid
2018-07-17 07:04:34.762 +00:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None"
2018-07-17 07:04:35.116 +00:00 [Information] Executed DbCommand ("14"ms) [Parameters=["@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (Size = 8000) (DbType = AnsiString), @p8='?' (Size = 8000) (DbType = AnsiString), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `ZohoInvoiceJobQueues` (`Id`, `CreatedAt`, `CreatedBy`, `DeletedAt`, `DeletedBy`, `IsSuccess`, `JobType`, `JsonData`, `LastErrorMessage`, `ReTryCount`, `UpdatedAt`, `UpdatedBy`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);"
2018-07-17 07:04:35.146 +00:00 [Information] Executed action method "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.CreateRecurringInvoice (Empite.TribechimpService.PaymentService)", returned result "Microsoft.AspNetCore.Mvc.OkResult" in 7954.9317ms.
2018-07-17 07:04:35.165 +00:00 [Information] Executing HttpStatusCodeResult, setting HTTP status code 200
2018-07-17 07:04:35.178 +00:00 [Information] Executed action "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.CreateRecurringInvoice (Empite.TribechimpService.PaymentService)" in 8081.6406ms
2018-07-17 07:04:35.192 +00:00 [Information] Request finished in 8255.3297ms 200 
2018-07-17 07:04:51.634 +00:00 [Information] Request starting HTTP/1.1 GET https://localhost:5011/api/invoice/runjobs  
2018-07-17 07:04:51.647 +00:00 [Information] Route matched with "{action = \"RunJobs\", controller = \"Invoice\"}". Executing action "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.RunJobs (Empite.TribechimpService.PaymentService)"
2018-07-17 07:04:51.658 +00:00 [Information] Executing action method "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.RunJobs (Empite.TribechimpService.PaymentService)" - Validation state: Valid
2018-07-17 07:04:57.574 +00:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None"
2018-07-17 07:04:57.626 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM `ZohoInvoiceJobQueues` AS `x`
WHERE `x`.`IsSuccess` = FALSE"
2018-07-17 07:04:57.668 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `x`.`Id`, `x`.`CreatedAt`, `x`.`CreatedBy`, `x`.`DeletedAt`, `x`.`DeletedBy`, `x`.`IsSuccess`, `x`.`JobType`, `x`.`JsonData`, `x`.`LastErrorMessage`, `x`.`ReTryCount`, `x`.`UpdatedAt`, `x`.`UpdatedBy`
FROM `ZohoInvoiceJobQueues` AS `x`
WHERE `x`.`IsSuccess` = FALSE
ORDER BY `x`.`CreatedAt`
LIMIT @__p_1 OFFSET @__p_0"
2018-07-17 07:04:57.699 +00:00 [Information] Executed action method "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.RunJobs (Empite.TribechimpService.PaymentService)", returned result "Microsoft.AspNetCore.Mvc.OkResult" in 6036.783ms.
2018-07-17 07:04:57.703 +00:00 [Information] Executing HttpStatusCodeResult, setting HTTP status code 200
2018-07-17 07:04:57.708 +00:00 [Information] Executed action "Empite.TribechimpService.PaymentService.Controllers.InvoiceController.RunJobs (Empite.TribechimpService.PaymentService)" in 6055.2219ms
2018-07-17 07:04:57.714 +00:00 [Information] Request finished in 6078.7308ms 200 
2018-07-17 07:05:18.357 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__recurringInfo_UserId_0='?' (Size = 255)"], CommandType='Text', CommandTimeout='30']"
""SELECT `x`.`UserId`, `x`.`CreatedAt`, `x`.`CreatedBy`, `x`.`DeletedAt`, `x`.`DeletedBy`, `x`.`Email`, `x`.`OrganizationId`, `x`.`UpdatedAt`, `x`.`UpdatedBy`, `x`.`ZohoContactUserId`, `x`.`ZohoPrimaryContactId`
FROM `InvoiceContacts` AS `x`
WHERE `x`.`UserId` = @__recurringInfo_UserId_0
ORDER BY `x`.`UserId`
LIMIT 1"
2018-07-17 07:05:18.390 +00:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@__recurringInfo_UserId_0='?' (Size = 255)"], CommandType='Text', CommandTimeout='30']"
""SELECT `x.RecurringInvoices`.`Id`, `x.RecurringInvoices`.`AllTaskCompleted`, `x.RecurringInvoices`.`CreatedAt`, `x.RecurringInvoices`.`CreatedBy`, `x.RecurringInvoices`.`DeletedAt`, `x.RecurringInvoices`.`DeletedBy`, `x.RecurringInvoices`.`InvoiceContactUserId`, `x.RecurringInvoices`.`IsDue`, `x.RecurringInvoices`.`RecurringInvoiceId`, `x.RecurringInvoices`.`RecurringInvoiceName`, `x.RecurringInvoices`.`UpdatedAt`, `x.RecurringInvoices`.`UpdatedBy`
FROM `RecurringInvoices` AS `x.RecurringInvoices`
INNER JOIN (
    SELECT `x0`.`UserId`
    FROM `InvoiceContacts` AS `x0`
    WHERE `x0`.`UserId` = @__recurringInfo_UserId_0
    ORDER BY `x0`.`UserId`
    LIMIT 1
) AS `t` ON `x.RecurringInvoices`.`InvoiceContactUserId` = `t`.`UserId`
ORDER BY `t`.`UserId`"
2018-07-17 07:05:26.667 +00:00 [Information] Executed DbCommand ("42"ms) [Parameters=["@__itemId_ItemId_0='?' (Size = 255)"], CommandType='Text', CommandTimeout='30']"
""SELECT `y`.`Id`, `y`.`CreatedAt`, `y`.`CreatedBy`, `y`.`DeletedAt`, `y`.`DeletedBy`, `y`.`Description`, `y`.`Name`, `y`.`Rate`, `y`.`UpdatedAt`, `y`.`UpdatedBy`, `y`.`ZohoItemId`
FROM `ZohoItems` AS `y`
WHERE `y`.`Id` = @__itemId_ItemId_0
LIMIT 1"
2018-07-17 07:05:34.077 +00:00 [Information] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `x`.`IsEnabled` AS `configured`, `x`.`GatewayName` AS `gateway_name`
FROM `ConfiguredPaymentGateways` AS `x`"
2018-07-17 07:05:41.044 +00:00 [Information] Start processing HTTP request "POST" https://invoice.zoho.com/api/v3/recurringinvoices
2018-07-17 07:05:41.053 +00:00 [Information] Sending HTTP request "POST" https://invoice.zoho.com/api/v3/recurringinvoices
2018-07-17 07:05:42.719 +00:00 [Information] Received HTTP response after 1650.4303ms - Created
2018-07-17 07:05:42.736 +00:00 [Information] End processing HTTP request after 1693.2484ms - Created
2018-07-17 07:06:00.507 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 255), @p1='?' (DbType = Boolean), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = DateTime), @p5='?' (DbType = Guid), @p6='?' (Size = 255), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = DateTime), @p11='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `RecurringInvoices` (`Id`, `AllTaskCompleted`, `CreatedAt`, `CreatedBy`, `DeletedAt`, `DeletedBy`, `InvoiceContactUserId`, `IsDue`, `RecurringInvoiceId`, `RecurringInvoiceName`, `UpdatedAt`, `UpdatedBy`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);"
2018-07-17 07:06:00.527 +00:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@p12='?' (Size = 255), @p13='?' (Size = 255), @p14='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `ZohoItemRecurringInvoice` (`RecurringInvoiceId`, `ZohoItemId`, `Qty`)
VALUES (@p12, @p13, @p14);"
2018-07-17 07:06:04.699 +00:00 [Information] Executed DbCommand ("45"ms) [Parameters=["@p1='?' (Size = 255), @p0='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `ZohoInvoiceJobQueues` SET `UpdatedAt` = @p0
WHERE `Id` = @p1;
SELECT ROW_COUNT();"
2018-07-17 07:06:04.758 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (Size = 8000) (DbType = AnsiString), @p8='?' (Size = 8000) (DbType = AnsiString), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `ZohoInvoiceJobQueues` (`Id`, `CreatedAt`, `CreatedBy`, `DeletedAt`, `DeletedBy`, `IsSuccess`, `JobType`, `JsonData`, `LastErrorMessage`, `ReTryCount`, `UpdatedAt`, `UpdatedBy`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);"
2018-07-17 07:06:04.784 +00:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@p1='?' (Size = 255), @p0='?' (DbType = Boolean)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `ZohoInvoiceJobQueues` SET `IsSuccess` = @p0
WHERE `Id` = @p1;
SELECT ROW_COUNT();"
2018-07-17 07:06:04.838 +00:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@__recurringInvoiceId_0='?' (Size = 255)"], CommandType='Text', CommandTimeout='30']"
""SELECT `x`.`Id`, `x`.`AllTaskCompleted`, `x`.`CreatedAt`, `x`.`CreatedBy`, `x`.`DeletedAt`, `x`.`DeletedBy`, `x`.`InvoiceContactUserId`, `x`.`IsDue`, `x`.`RecurringInvoiceId`, `x`.`RecurringInvoiceName`, `x`.`UpdatedAt`, `x`.`UpdatedBy`
FROM `RecurringInvoices` AS `x`
WHERE `x`.`Id` = @__recurringInvoiceId_0
ORDER BY `x`.`Id`
LIMIT 1"
2018-07-17 07:06:04.859 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__recurringInvoiceId_0='?' (Size = 255)"], CommandType='Text', CommandTimeout='30']"
""SELECT `x.ZohoItems`.`RecurringInvoiceId`, `x.ZohoItems`.`ZohoItemId`, `x.ZohoItems`.`Qty`
FROM `ZohoItemRecurringInvoice` AS `x.ZohoItems`
INNER JOIN (
    SELECT `x0`.`Id`
    FROM `RecurringInvoices` AS `x0`
    WHERE `x0`.`Id` = @__recurringInvoiceId_0
    ORDER BY `x0`.`Id`
    LIMIT 1
) AS `t` ON `x.ZohoItems`.`RecurringInvoiceId` = `t`.`Id`
ORDER BY `t`.`Id`"
2018-07-17 07:06:04.912 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__recurringInvoice_0_Id='?' (Size = 255)"], CommandType='Text', CommandTimeout='30']"
""SELECT `x`.`UserId`, `x`.`CreatedAt`, `x`.`CreatedBy`, `x`.`DeletedAt`, `x`.`DeletedBy`, `x`.`Email`, `x`.`OrganizationId`, `x`.`UpdatedAt`, `x`.`UpdatedBy`, `x`.`ZohoContactUserId`, `x`.`ZohoPrimaryContactId`
FROM `InvoiceContacts` AS `x`
WHERE @__recurringInvoice_0_Id IN (
    SELECT `r`.`Id`
    FROM `RecurringInvoices` AS `r`
    WHERE `x`.`UserId` = `r`.`InvoiceContactUserId`
)
ORDER BY `x`.`UserId`
LIMIT 1"
2018-07-17 07:06:04.928 +00:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__recurringInvoice_0_Id='?' (Size = 255)"], CommandType='Text', CommandTimeout='30']"
""SELECT `x.RecurringInvoices`.`Id`, `x.RecurringInvoices`.`AllTaskCompleted`, `x.RecurringInvoices`.`CreatedAt`, `x.RecurringInvoices`.`CreatedBy`, `x.RecurringInvoices`.`DeletedAt`, `x.RecurringInvoices`.`DeletedBy`, `x.RecurringInvoices`.`InvoiceContactUserId`, `x.RecurringInvoices`.`IsDue`, `x.RecurringInvoices`.`RecurringInvoiceId`, `x.RecurringInvoices`.`RecurringInvoiceName`, `x.RecurringInvoices`.`UpdatedAt`, `x.RecurringInvoices`.`UpdatedBy`
FROM `RecurringInvoices` AS `x.RecurringInvoices`
INNER JOIN (
    SELECT `x0`.`UserId`
    FROM `InvoiceContacts` AS `x0`
    WHERE @__recurringInvoice_0_Id IN (
        SELECT `r0`.`Id`
        FROM `RecurringInvoices` AS `r0`
        WHERE `x0`.`UserId` = `r0`.`InvoiceContactUserId`
    )
    ORDER BY `x0`.`UserId`
    LIMIT 1
) AS `t` ON `x.RecurringInvoices`.`InvoiceContactUserId` = `t`.`UserId`
ORDER BY `t`.`UserId`"
2018-07-17 07:06:04.942 +00:00 [Information] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `x`.`IsEnabled` AS `configured`, `x`.`GatewayName` AS `gateway_name`
FROM `ConfiguredPaymentGateways` AS `x`"
2018-07-17 07:06:04.953 +00:00 [Information] Start processing HTTP request "POST" https://invoice.zoho.com/api/v3/invoices
2018-07-17 07:06:04.959 +00:00 [Information] Sending HTTP request "POST" https://invoice.zoho.com/api/v3/invoices
2018-07-17 07:06:05.744 +00:00 [Information] Received HTTP response after 785.5818ms - Created
2018-07-17 07:06:05.747 +00:00 [Information] End processing HTTP request after 794.0996ms - Created
2018-07-17 07:06:05.766 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (Size = 8000) (DbType = AnsiString), @p8='?' (Size = 8000) (DbType = AnsiString), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `ZohoInvoiceJobQueues` (`Id`, `CreatedAt`, `CreatedBy`, `DeletedAt`, `DeletedBy`, `IsSuccess`, `JobType`, `JsonData`, `LastErrorMessage`, `ReTryCount`, `UpdatedAt`, `UpdatedBy`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);"
2018-07-17 07:06:05.779 +00:00 [Information] Start processing HTTP request "POST" https://invoice.zoho.com/api/v3/invoices/1414691000000095051/email
2018-07-17 07:06:05.782 +00:00 [Information] Sending HTTP request "POST" https://invoice.zoho.com/api/v3/invoices/1414691000000095051/email
2018-07-17 07:06:06.806 +00:00 [Information] Received HTTP response after 1023.9294ms - OK
2018-07-17 07:06:06.811 +00:00 [Information] End processing HTTP request after 1031.3596ms - OK
2018-07-17 07:06:06.826 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@p1='?' (Size = 255), @p0='?' (DbType = Boolean)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `RecurringInvoices` SET `AllTaskCompleted` = @p0
WHERE `Id` = @p1;
SELECT ROW_COUNT();"
2018-07-17 07:06:06.835 +00:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@p2='?' (Size = 255), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `ZohoInvoiceJobQueues` SET `IsSuccess` = @p0, `UpdatedAt` = @p1
WHERE `Id` = @p2;
SELECT ROW_COUNT();"
2018-07-17 07:06:06.849 +00:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@p2='?' (Size = 255), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `ZohoInvoiceJobQueues` SET `IsSuccess` = @p0, `UpdatedAt` = @p1
WHERE `Id` = @p2;
SELECT ROW_COUNT();"
